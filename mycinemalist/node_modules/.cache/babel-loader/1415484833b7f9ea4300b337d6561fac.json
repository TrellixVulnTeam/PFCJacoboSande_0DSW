{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { KeyCodes, css, getId, getRTL, getRTLSafeKeyCode, warnMutuallyExclusive, initializeComponentRef, Async, on, FocusRects } from '../../Utilities';\nimport { classNamesFunction, getNativeProps, divProperties } from '../../Utilities';\nimport { Label } from '../../Label';\nvar getClassNames = classNamesFunction();\nvar COMPONENT_NAME = 'SliderBase';\nexport var ONKEYDOWN_TIMEOUT_DURATION = 1000;\n\nvar SliderBase =\n/** @class */\nfunction (_super) {\n  __extends(SliderBase, _super);\n\n  function SliderBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._disposables = [];\n    _this._sliderLine = React.createRef();\n    _this._thumb = React.createRef();\n    _this._onKeyDownTimer = -1;\n\n    _this._getAriaValueText = function (value) {\n      var ariaValueText = _this.props.ariaValueText;\n\n      if (value !== undefined) {\n        return ariaValueText ? ariaValueText(value) : value.toString();\n      }\n\n      return undefined;\n    };\n\n    _this._onMouseDownOrTouchStart = function (event) {\n      if (event.type === 'mousedown') {\n        _this._disposables.push(on(window, 'mousemove', _this._onMouseMoveOrTouchMove, true), on(window, 'mouseup', _this._onMouseUpOrTouchEnd, true));\n      } else if (event.type === 'touchstart') {\n        _this._disposables.push(on(window, 'touchmove', _this._onMouseMoveOrTouchMove, true), on(window, 'touchend', _this._onMouseUpOrTouchEnd, true));\n      }\n\n      _this._onMouseMoveOrTouchMove(event, true);\n    };\n\n    _this._onMouseMoveOrTouchMove = function (event, suppressEventCancelation) {\n      if (!_this._sliderLine.current) {\n        return;\n      }\n\n      var _a = _this.props,\n          max = _a.max,\n          min = _a.min,\n          step = _a.step;\n      var steps = (max - min) / step;\n\n      var sliderPositionRect = _this._sliderLine.current.getBoundingClientRect();\n\n      var sliderLength = !_this.props.vertical ? sliderPositionRect.width : sliderPositionRect.height;\n      var stepLength = sliderLength / steps;\n      var currentSteps;\n      var distance;\n\n      if (!_this.props.vertical) {\n        var left = _this._getPosition(event, _this.props.vertical);\n\n        distance = getRTL(_this.props.theme) ? sliderPositionRect.right - left : left - sliderPositionRect.left;\n        currentSteps = distance / stepLength;\n      } else {\n        var bottom = _this._getPosition(event, _this.props.vertical);\n\n        distance = sliderPositionRect.bottom - bottom;\n        currentSteps = distance / stepLength;\n      }\n\n      var currentValue;\n      var renderedValue; // The value shouldn't be bigger than max or be smaller than min.\n\n      if (currentSteps > Math.floor(steps)) {\n        renderedValue = currentValue = max;\n      } else if (currentSteps < 0) {\n        renderedValue = currentValue = min;\n      } else {\n        renderedValue = min + step * currentSteps;\n        currentValue = min + step * Math.round(currentSteps);\n      }\n\n      _this._updateValue(currentValue, renderedValue);\n\n      if (!suppressEventCancelation) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    };\n\n    _this._onMouseUpOrTouchEnd = function (event) {\n      // Disable renderedValue override.\n      _this.setState({\n        renderedValue: undefined\n      });\n\n      if (_this.props.onChanged) {\n        _this.props.onChanged(event, _this.state.value);\n      }\n\n      _this._disposeListeners();\n    };\n\n    _this._disposeListeners = function () {\n      _this._disposables.forEach(function (dispose) {\n        return dispose();\n      });\n\n      _this._disposables = [];\n    };\n\n    _this._onKeyDown = function (event) {\n      var value = _this.state.value;\n      var _a = _this.props,\n          max = _a.max,\n          min = _a.min,\n          step = _a.step;\n      var diff = 0; // eslint-disable-next-line deprecation/deprecation\n\n      switch (event.which) {\n        case getRTLSafeKeyCode(KeyCodes.left, _this.props.theme):\n        case KeyCodes.down:\n          diff = -step;\n\n          _this._clearOnKeyDownTimer();\n\n          _this._setOnKeyDownTimer(event);\n\n          break;\n\n        case getRTLSafeKeyCode(KeyCodes.right, _this.props.theme):\n        case KeyCodes.up:\n          diff = step;\n\n          _this._clearOnKeyDownTimer();\n\n          _this._setOnKeyDownTimer(event);\n\n          break;\n\n        case KeyCodes.home:\n          value = min;\n          break;\n\n        case KeyCodes.end:\n          value = max;\n          break;\n\n        default:\n          return;\n      }\n\n      var newValue = Math.min(max, Math.max(min, value + diff));\n\n      _this._updateValue(newValue, newValue);\n\n      event.preventDefault();\n      event.stopPropagation();\n    };\n\n    _this._clearOnKeyDownTimer = function () {\n      _this._async.clearTimeout(_this._onKeyDownTimer);\n    };\n\n    _this._setOnKeyDownTimer = function (event) {\n      _this._onKeyDownTimer = _this._async.setTimeout(function () {\n        if (_this.props.onChanged) {\n          _this.props.onChanged(event, _this.state.value);\n        }\n      }, ONKEYDOWN_TIMEOUT_DURATION);\n    };\n\n    _this._async = new Async(_this);\n    initializeComponentRef(_this);\n    warnMutuallyExclusive(COMPONENT_NAME, _this.props, {\n      value: 'defaultValue'\n    });\n    _this._id = getId('Slider');\n    var value = props.value !== undefined ? props.value : props.defaultValue !== undefined ? props.defaultValue : props.min;\n    _this.state = {\n      value: value,\n      renderedValue: undefined\n    };\n    return _this;\n  }\n\n  SliderBase.prototype.componentWillUnmount = function () {\n    this._async.dispose();\n\n    this._disposeListeners();\n  };\n\n  SliderBase.prototype.render = function () {\n    var _a, _b, _c, _d, _e;\n\n    var _f = this.props,\n        ariaLabel = _f.ariaLabel,\n        className = _f.className,\n        disabled = _f.disabled,\n        label = _f.label,\n        max = _f.max,\n        min = _f.min,\n        showValue = _f.showValue,\n        buttonProps = _f.buttonProps,\n        vertical = _f.vertical,\n        valueFormat = _f.valueFormat,\n        styles = _f.styles,\n        theme = _f.theme,\n        originFromZero = _f.originFromZero;\n    var value = this.value;\n    var renderedValue = this.renderedValue;\n    var thumbOffsetPercent = min === max ? 0 : (renderedValue - min) / (max - min) * 100;\n    var zeroOffsetPercent = min >= 0 ? 0 : -min / (max - min) * 100;\n    var lengthString = vertical ? 'height' : 'width';\n    var onMouseDownProp = disabled ? {} : {\n      onMouseDown: this._onMouseDownOrTouchStart\n    };\n    var onTouchStartProp = disabled ? {} : {\n      onTouchStart: this._onMouseDownOrTouchStart\n    };\n    var onKeyDownProp = disabled ? {} : {\n      onKeyDown: this._onKeyDown\n    };\n    var classNames = getClassNames(styles, {\n      className: className,\n      disabled: disabled,\n      vertical: vertical,\n      showTransitions: renderedValue === value,\n      showValue: showValue,\n      theme: theme\n    });\n    var divButtonProps = buttonProps ? getNativeProps(buttonProps, divProperties) : undefined;\n    return React.createElement(\"div\", {\n      className: classNames.root\n    }, label && React.createElement(Label, __assign({\n      className: classNames.titleLabel\n    }, ariaLabel ? {} : {\n      htmlFor: this._id\n    }, {\n      disabled: disabled\n    }), label), React.createElement(\"div\", {\n      className: classNames.container\n    }, React.createElement(\"div\", __assign({\n      id: this._id,\n      \"aria-valuenow\": value,\n      \"aria-valuemin\": min,\n      \"aria-valuemax\": max,\n      \"aria-valuetext\": this._getAriaValueText(value),\n      \"aria-label\": ariaLabel || label,\n      \"aria-disabled\": disabled\n    }, onMouseDownProp, onTouchStartProp, onKeyDownProp, divButtonProps, {\n      className: css(classNames.slideBox, buttonProps.className),\n      role: \"slider\",\n      tabIndex: disabled ? undefined : 0,\n      \"data-is-focusable\": !disabled\n    }), React.createElement(\"div\", {\n      ref: this._sliderLine,\n      className: classNames.line\n    }, originFromZero && React.createElement(\"span\", {\n      className: css(classNames.zeroTick),\n      style: this._getStyleUsingOffsetPercent(vertical, zeroOffsetPercent)\n    }), React.createElement(\"span\", {\n      ref: this._thumb,\n      className: classNames.thumb,\n      style: this._getStyleUsingOffsetPercent(vertical, thumbOffsetPercent)\n    }), originFromZero ? React.createElement(React.Fragment, null, React.createElement(\"span\", {\n      className: css(classNames.lineContainer, classNames.inactiveSection),\n      style: (_a = {}, _a[lengthString] = Math.min(thumbOffsetPercent, zeroOffsetPercent) + '%', _a)\n    }), React.createElement(\"span\", {\n      className: css(classNames.lineContainer, classNames.activeSection),\n      style: (_b = {}, _b[lengthString] = Math.abs(zeroOffsetPercent - thumbOffsetPercent) + '%', _b)\n    }), React.createElement(\"span\", {\n      className: css(classNames.lineContainer, classNames.inactiveSection),\n      style: (_c = {}, _c[lengthString] = Math.min(100 - thumbOffsetPercent, 100 - zeroOffsetPercent) + '%', _c)\n    })) : React.createElement(React.Fragment, null, React.createElement(\"span\", {\n      className: css(classNames.lineContainer, classNames.activeSection),\n      style: (_d = {}, _d[lengthString] = thumbOffsetPercent + '%', _d)\n    }), React.createElement(\"span\", {\n      className: css(classNames.lineContainer, classNames.inactiveSection),\n      style: (_e = {}, _e[lengthString] = 100 - thumbOffsetPercent + '%', _e)\n    })))), showValue && React.createElement(Label, {\n      className: classNames.valueLabel,\n      disabled: disabled\n    }, valueFormat ? valueFormat(value) : value)), React.createElement(FocusRects, null));\n  };\n\n  SliderBase.prototype.focus = function () {\n    if (this._thumb.current) {\n      this._thumb.current.focus();\n    }\n  };\n\n  Object.defineProperty(SliderBase.prototype, \"value\", {\n    get: function () {\n      var _a = this.props.value,\n          value = _a === void 0 ? this.state.value : _a;\n\n      if (this.props.min === undefined || this.props.max === undefined || value === undefined) {\n        return undefined;\n      } else {\n        return Math.max(this.props.min, Math.min(this.props.max, value));\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(SliderBase.prototype, \"renderedValue\", {\n    get: function () {\n      // renderedValue is expected to be defined while user is interacting with control, otherwise `undefined`.\n      // Fall back to `value`.\n      var _a = this.state.renderedValue,\n          renderedValue = _a === void 0 ? this.value : _a;\n      return renderedValue;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  SliderBase.prototype._getStyleUsingOffsetPercent = function (vertical, thumbOffsetPercent) {\n    var _a;\n\n    var direction = vertical ? 'bottom' : getRTL(this.props.theme) ? 'right' : 'left';\n    return _a = {}, _a[direction] = thumbOffsetPercent + '%', _a;\n  };\n\n  SliderBase.prototype._getPosition = function (event, vertical) {\n    var currentPosition;\n\n    switch (event.type) {\n      case 'mousedown':\n      case 'mousemove':\n        currentPosition = !vertical ? event.clientX : event.clientY;\n        break;\n\n      case 'touchstart':\n      case 'touchmove':\n        currentPosition = !vertical ? event.touches[0].clientX : event.touches[0].clientY;\n        break;\n    }\n\n    return currentPosition;\n  };\n\n  SliderBase.prototype._updateValue = function (value, renderedValue) {\n    var _this = this;\n\n    var _a = this.props,\n        step = _a.step,\n        snapToStep = _a.snapToStep;\n    var numDec = 0;\n\n    if (isFinite(step)) {\n      while (Math.round(step * Math.pow(10, numDec)) / Math.pow(10, numDec) !== step) {\n        numDec++;\n      }\n    } // Make sure value has correct number of decimal places based on number of decimals in step\n\n\n    var roundedValue = parseFloat(value.toFixed(numDec));\n    var valueChanged = roundedValue !== this.state.value;\n\n    if (snapToStep) {\n      renderedValue = roundedValue;\n    }\n\n    this.setState({\n      value: roundedValue,\n      renderedValue: renderedValue\n    }, function () {\n      if (valueChanged && _this.props.onChange) {\n        _this.props.onChange(_this.state.value);\n      }\n    });\n  };\n\n  SliderBase.defaultProps = {\n    step: 1,\n    min: 0,\n    max: 10,\n    showValue: true,\n    disabled: false,\n    vertical: false,\n    buttonProps: {},\n    originFromZero: false\n  };\n  return SliderBase;\n}(React.Component);\n\nexport { SliderBase };","map":{"version":3,"mappings":"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","names":["React","KeyCodes","css","getId","getRTL","getRTLSafeKeyCode","warnMutuallyExclusive","initializeComponentRef","Async","on","FocusRects","classNamesFunction","getNativeProps","divProperties","Label","getClassNames","COMPONENT_NAME","ONKEYDOWN_TIMEOUT_DURATION","__extends","props","_super","_this","createRef","value","undefined","ariaValueText","toString","event","type","_disposables","push","window","_onMouseMoveOrTouchMove","_onMouseUpOrTouchEnd","suppressEventCancelation","_sliderLine","current","max","min","step","steps","sliderPositionRect","getBoundingClientRect","sliderLength","vertical","width","height","stepLength","currentSteps","distance","left","_getPosition","theme","right","bottom","currentValue","renderedValue","Math","floor","round","_updateValue","preventDefault","stopPropagation","setState","onChanged","state","_disposeListeners","forEach","diff","which","down","_clearOnKeyDownTimer","_setOnKeyDownTimer","up","home","end","newValue","_async","clearTimeout","_onKeyDownTimer","setTimeout","_id","defaultValue","SliderBase","dispose","ariaLabel","className","disabled","label","showValue","buttonProps","valueFormat","styles","originFromZero","thumbOffsetPercent","zeroOffsetPercent","lengthString","onMouseDownProp","onMouseDown","_onMouseDownOrTouchStart","onTouchStartProp","onTouchStart","onKeyDownProp","onKeyDown","_onKeyDown","classNames","showTransitions","divButtonProps","root","__assign","titleLabel","htmlFor","container","id","_getAriaValueText","slideBox","role","tabIndex","ref","line","zeroTick","style","_getStyleUsingOffsetPercent","_thumb","thumb","lineContainer","inactiveSection","_a","activeSection","_b","abs","_c","_d","_e","valueLabel","focus","Object","direction","currentPosition","clientX","clientY","touches","snapToStep","numDec","isFinite","pow","roundedValue","parseFloat","toFixed","valueChanged","onChange","Component"],"sources":["D:\\PFCJACOBO\\PFC\\mycinemalist\\node_modules\\office-ui-fabric-react\\lib\\components\\src\\components\\Slider\\Slider.base.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  KeyCodes,\n  css,\n  getId,\n  getRTL,\n  getRTLSafeKeyCode,\n  warnMutuallyExclusive,\n  initializeComponentRef,\n  Async,\n  on,\n  FocusRects,\n} from '../../Utilities';\nimport { ISliderProps, ISlider, ISliderStyleProps, ISliderStyles } from './Slider.types';\nimport { classNamesFunction, getNativeProps, divProperties } from '../../Utilities';\nimport { Label } from '../../Label';\n\nexport interface ISliderState {\n  value?: number;\n  renderedValue?: number;\n}\n\nconst getClassNames = classNamesFunction<ISliderStyleProps, ISliderStyles>();\nconst COMPONENT_NAME = 'SliderBase';\nexport const ONKEYDOWN_TIMEOUT_DURATION = 1000;\n\nexport class SliderBase extends React.Component<ISliderProps, ISliderState> implements ISlider {\n  public static defaultProps: ISliderProps = {\n    step: 1,\n    min: 0,\n    max: 10,\n    showValue: true,\n    disabled: false,\n    vertical: false,\n    buttonProps: {},\n    originFromZero: false,\n  };\n\n  private _async: Async;\n  private _disposables: (() => void)[] = [];\n  private _sliderLine = React.createRef<HTMLDivElement>();\n  private _thumb = React.createRef<HTMLSpanElement>();\n  private _id: string;\n  private _onKeyDownTimer = -1;\n\n  constructor(props: ISliderProps) {\n    super(props);\n\n    this._async = new Async(this);\n    initializeComponentRef(this);\n\n    warnMutuallyExclusive(COMPONENT_NAME, this.props, {\n      value: 'defaultValue',\n    });\n\n    this._id = getId('Slider');\n\n    const value =\n      props.value !== undefined ? props.value : props.defaultValue !== undefined ? props.defaultValue : props.min;\n\n    this.state = {\n      value: value,\n      renderedValue: undefined,\n    };\n  }\n\n  public componentWillUnmount() {\n    this._async.dispose();\n    this._disposeListeners();\n  }\n\n  public render(): React.ReactElement<{}> {\n    const {\n      ariaLabel,\n      className,\n      disabled,\n      label,\n      max,\n      min,\n      showValue,\n      buttonProps,\n      vertical,\n      valueFormat,\n      styles,\n      theme,\n      originFromZero,\n    } = this.props;\n    const value = this.value;\n    const renderedValue = this.renderedValue;\n    const thumbOffsetPercent: number = min === max ? 0 : ((renderedValue! - min!) / (max! - min!)) * 100;\n    const zeroOffsetPercent: number = min! >= 0 ? 0 : (-min! / (max! - min!)) * 100;\n    const lengthString = vertical ? 'height' : 'width';\n    const onMouseDownProp: {} = disabled ? {} : { onMouseDown: this._onMouseDownOrTouchStart };\n    const onTouchStartProp: {} = disabled ? {} : { onTouchStart: this._onMouseDownOrTouchStart };\n    const onKeyDownProp: {} = disabled ? {} : { onKeyDown: this._onKeyDown };\n    const classNames = getClassNames(styles, {\n      className,\n      disabled,\n      vertical,\n      showTransitions: renderedValue === value,\n      showValue,\n      theme: theme!,\n    });\n    const divButtonProps = buttonProps\n      ? getNativeProps<React.HTMLAttributes<HTMLDivElement>>(buttonProps, divProperties)\n      : undefined;\n\n    return (\n      <div className={classNames.root}>\n        {label && (\n          <Label className={classNames.titleLabel} {...(ariaLabel ? {} : { htmlFor: this._id })} disabled={disabled}>\n            {label}\n          </Label>\n        )}\n        <div className={classNames.container}>\n          <div\n            id={this._id}\n            aria-valuenow={value}\n            aria-valuemin={min}\n            aria-valuemax={max}\n            aria-valuetext={this._getAriaValueText(value)}\n            aria-label={ariaLabel || label}\n            aria-disabled={disabled}\n            {...onMouseDownProp}\n            {...onTouchStartProp}\n            {...onKeyDownProp}\n            {...divButtonProps}\n            className={css(classNames.slideBox, buttonProps!.className)}\n            role=\"slider\"\n            tabIndex={disabled ? undefined : 0}\n            data-is-focusable={!disabled}\n          >\n            <div ref={this._sliderLine} className={classNames.line}>\n              {originFromZero && (\n                <span\n                  className={css(classNames.zeroTick)}\n                  style={this._getStyleUsingOffsetPercent(vertical, zeroOffsetPercent)}\n                />\n              )}\n              <span\n                ref={this._thumb}\n                className={classNames.thumb}\n                style={this._getStyleUsingOffsetPercent(vertical, thumbOffsetPercent)}\n              />\n              {originFromZero ? (\n                <>\n                  <span\n                    className={css(classNames.lineContainer, classNames.inactiveSection)}\n                    style={{ [lengthString]: Math.min(thumbOffsetPercent, zeroOffsetPercent) + '%' }}\n                  />\n                  <span\n                    className={css(classNames.lineContainer, classNames.activeSection)}\n                    style={{ [lengthString]: Math.abs(zeroOffsetPercent - thumbOffsetPercent) + '%' }}\n                  />\n                  <span\n                    className={css(classNames.lineContainer, classNames.inactiveSection)}\n                    style={{ [lengthString]: Math.min(100 - thumbOffsetPercent, 100 - zeroOffsetPercent) + '%' }}\n                  />\n                </>\n              ) : (\n                <>\n                  <span\n                    className={css(classNames.lineContainer, classNames.activeSection)}\n                    style={{ [lengthString]: thumbOffsetPercent + '%' }}\n                  />\n                  <span\n                    className={css(classNames.lineContainer, classNames.inactiveSection)}\n                    style={{ [lengthString]: 100 - thumbOffsetPercent + '%' }}\n                  />\n                </>\n              )}\n            </div>\n          </div>\n          {showValue && (\n            <Label className={classNames.valueLabel} disabled={disabled}>\n              {valueFormat ? valueFormat(value!) : value}\n            </Label>\n          )}\n        </div>\n        <FocusRects />\n      </div>\n    ) as React.ReactElement<{}>;\n  }\n\n  public focus(): void {\n    if (this._thumb.current) {\n      this._thumb.current.focus();\n    }\n  }\n\n  public get value(): number | undefined {\n    const { value = this.state.value } = this.props;\n    if (this.props.min === undefined || this.props.max === undefined || value === undefined) {\n      return undefined;\n    } else {\n      return Math.max(this.props.min, Math.min(this.props.max, value));\n    }\n  }\n\n  private get renderedValue(): number | undefined {\n    // renderedValue is expected to be defined while user is interacting with control, otherwise `undefined`.\n    // Fall back to `value`.\n    const { renderedValue = this.value } = this.state;\n    return renderedValue;\n  }\n\n  private _getAriaValueText = (value: number | undefined): string | undefined => {\n    const { ariaValueText } = this.props;\n    if (value !== undefined) {\n      return ariaValueText ? ariaValueText(value) : value.toString();\n    }\n    return undefined;\n  };\n\n  private _getStyleUsingOffsetPercent(vertical: boolean | undefined, thumbOffsetPercent: number): any {\n    const direction: string = vertical ? 'bottom' : getRTL(this.props.theme) ? 'right' : 'left';\n    return {\n      [direction]: thumbOffsetPercent + '%',\n    };\n  }\n\n  private _onMouseDownOrTouchStart = (event: MouseEvent | TouchEvent): void => {\n    if (event.type === 'mousedown') {\n      this._disposables.push(\n        on(window, 'mousemove', this._onMouseMoveOrTouchMove, true),\n        on(window, 'mouseup', this._onMouseUpOrTouchEnd, true),\n      );\n    } else if (event.type === 'touchstart') {\n      this._disposables.push(\n        on(window, 'touchmove', this._onMouseMoveOrTouchMove, true),\n        on(window, 'touchend', this._onMouseUpOrTouchEnd, true),\n      );\n    }\n    this._onMouseMoveOrTouchMove(event, true);\n  };\n\n  private _onMouseMoveOrTouchMove = (event: MouseEvent | TouchEvent, suppressEventCancelation?: boolean): void => {\n    if (!this._sliderLine.current) {\n      return;\n    }\n\n    const { max, min, step } = this.props;\n    const steps: number = (max! - min!) / step!;\n    const sliderPositionRect: ClientRect = this._sliderLine.current.getBoundingClientRect();\n    const sliderLength: number = !this.props.vertical ? sliderPositionRect.width : sliderPositionRect.height;\n    const stepLength: number = sliderLength / steps;\n    let currentSteps: number | undefined;\n    let distance: number | undefined;\n\n    if (!this.props.vertical) {\n      const left: number | undefined = this._getPosition(event, this.props.vertical);\n      distance = getRTL(this.props.theme) ? sliderPositionRect.right - left! : left! - sliderPositionRect.left;\n      currentSteps = distance / stepLength;\n    } else {\n      const bottom: number | undefined = this._getPosition(event, this.props.vertical);\n      distance = sliderPositionRect.bottom - bottom!;\n      currentSteps = distance / stepLength;\n    }\n\n    let currentValue: number | undefined;\n    let renderedValue: number | undefined;\n\n    // The value shouldn't be bigger than max or be smaller than min.\n    if (currentSteps! > Math.floor(steps)) {\n      renderedValue = currentValue = max as number;\n    } else if (currentSteps! < 0) {\n      renderedValue = currentValue = min as number;\n    } else {\n      renderedValue = min! + step! * currentSteps!;\n      currentValue = min! + step! * Math.round(currentSteps!);\n    }\n\n    this._updateValue(currentValue, renderedValue);\n\n    if (!suppressEventCancelation) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  };\n\n  private _getPosition(event: MouseEvent | TouchEvent, vertical: boolean | undefined): number | undefined {\n    let currentPosition: number | undefined;\n    switch (event.type) {\n      case 'mousedown':\n      case 'mousemove':\n        currentPosition = !vertical ? (event as MouseEvent).clientX : (event as MouseEvent).clientY;\n        break;\n      case 'touchstart':\n      case 'touchmove':\n        currentPosition = !vertical\n          ? (event as TouchEvent).touches[0].clientX\n          : (event as TouchEvent).touches[0].clientY;\n        break;\n    }\n    return currentPosition;\n  }\n  private _updateValue(value: number, renderedValue: number): void {\n    const { step, snapToStep } = this.props;\n    let numDec = 0;\n    if (isFinite(step!)) {\n      while (Math.round(step! * Math.pow(10, numDec)) / Math.pow(10, numDec) !== step!) {\n        numDec++;\n      }\n    }\n\n    // Make sure value has correct number of decimal places based on number of decimals in step\n    const roundedValue = parseFloat(value.toFixed(numDec));\n    const valueChanged = roundedValue !== this.state.value;\n\n    if (snapToStep) {\n      renderedValue = roundedValue;\n    }\n\n    this.setState(\n      {\n        value: roundedValue,\n        renderedValue,\n      },\n      () => {\n        if (valueChanged && this.props.onChange) {\n          this.props.onChange(this.state.value as number);\n        }\n      },\n    );\n  }\n\n  private _onMouseUpOrTouchEnd = (event: MouseEvent | TouchEvent): void => {\n    // Disable renderedValue override.\n    this.setState({\n      renderedValue: undefined,\n    });\n\n    if (this.props.onChanged) {\n      this.props.onChanged(event, this.state.value as number);\n    }\n\n    this._disposeListeners();\n  };\n\n  private _disposeListeners = (): void => {\n    this._disposables.forEach(dispose => dispose());\n    this._disposables = [];\n  };\n\n  private _onKeyDown = (event: KeyboardEvent): void => {\n    let value: number | undefined = this.state.value;\n    const { max, min, step } = this.props;\n\n    let diff: number | undefined = 0;\n\n    // eslint-disable-next-line deprecation/deprecation\n    switch (event.which) {\n      case getRTLSafeKeyCode(KeyCodes.left, this.props.theme):\n      case KeyCodes.down:\n        diff = -(step as number);\n\n        this._clearOnKeyDownTimer();\n        this._setOnKeyDownTimer(event);\n\n        break;\n      case getRTLSafeKeyCode(KeyCodes.right, this.props.theme):\n      case KeyCodes.up:\n        diff = step;\n\n        this._clearOnKeyDownTimer();\n        this._setOnKeyDownTimer(event);\n\n        break;\n\n      case KeyCodes.home:\n        value = min;\n        break;\n\n      case KeyCodes.end:\n        value = max;\n        break;\n\n      default:\n        return;\n    }\n\n    const newValue: number = Math.min(max as number, Math.max(min as number, value! + diff!));\n\n    this._updateValue(newValue, newValue);\n\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  private _clearOnKeyDownTimer = (): void => {\n    this._async.clearTimeout(this._onKeyDownTimer);\n  };\n\n  private _setOnKeyDownTimer = (event: KeyboardEvent): void => {\n    this._onKeyDownTimer = this._async.setTimeout(() => {\n      if (this.props.onChanged) {\n        this.props.onChanged(event, this.state.value as number);\n      }\n    }, ONKEYDOWN_TIMEOUT_DURATION);\n  };\n}\n"]},"metadata":{},"sourceType":"module"}