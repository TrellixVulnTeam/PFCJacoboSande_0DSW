{"ast":null,"code":"import * as React from 'react';\nimport { useConst } from './useConst';\n/**\n *  Returns a wrapper function for `setTimeout` which automatically handles disposal.\n */\n\nexport var useSetTimeout = function useSetTimeout() {\n  var timeoutIds = useConst({}); // Cleanup function.\n\n  React.useEffect(function () {\n    return function () {\n      for (var _i = 0, _a = Object.keys(timeoutIds); _i < _a.length; _i++) {\n        var id = _a[_i]; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n        clearTimeout(id);\n      }\n    };\n  }, // useConst ensures this will never change, but react-hooks/exhaustive-deps doesn't know that\n  [timeoutIds]); // Return wrapper which will auto cleanup.\n\n  return useConst({\n    setTimeout: function (_setTimeout) {\n      function setTimeout(_x, _x2) {\n        return _setTimeout.apply(this, arguments);\n      }\n\n      setTimeout.toString = function () {\n        return _setTimeout.toString();\n      };\n\n      return setTimeout;\n    }(function (func, duration) {\n      var id = setTimeout(func, duration);\n      timeoutIds[id] = 1;\n      return id;\n    }),\n    clearTimeout: function (_clearTimeout) {\n      function clearTimeout(_x3) {\n        return _clearTimeout.apply(this, arguments);\n      }\n\n      clearTimeout.toString = function () {\n        return _clearTimeout.toString();\n      };\n\n      return clearTimeout;\n    }(function (id) {\n      delete timeoutIds[id];\n      clearTimeout(id);\n    })\n  });\n};","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,QAAyB,YAAzB;AAOA;;;;AAGA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB;EAC3B,IAAMC,UAAU,GAAGF,QAAQ,CAAyB,EAAzB,CAA3B,CAD2B,CAG3B;;EACAD,KAAK,CAACI,SAAN,CACE;IAAM;MACJ,KAAiB,uBAAM,CAACC,IAAP,CAAYF,UAAZ,CAAjB,EAAiBG,cAAjB,EAAiBA,IAAjB,EAA0C;QAArC,IAAMC,EAAE,SAAR,CAAqC,CACxC;;QACAC,YAAY,CAACD,EAAD,CAAZ;MACD;IACF,CALK;EAKL,CANH,EAOE;EACA,CAACJ,UAAD,CARF,EAJ2B,CAe3B;;EACA,OAAOF,QAAQ,CAAC;IACdQ,UAAU;MAAA;QAAA;MAAA;;MAAA;QAAA;MAAA;;MAAA;IAAA,EAAE,UAACC,IAAD,EAAmBC,QAAnB,EAAmC;MAC7C,IAAMJ,EAAE,GAAIE,UAAU,CAACC,IAAD,EAAOC,QAAP,CAAtB;MAEAR,UAAU,CAACI,EAAD,CAAV,GAAiB,CAAjB;MAEA,OAAOA,EAAP;IACD,CANS,CADI;IASdC,YAAY;MAAA;QAAA;MAAA;;MAAA;QAAA;MAAA;;MAAA;IAAA,EAAE,UAACD,EAAD,EAAW;MACvB,OAAOJ,UAAU,CAACI,EAAD,CAAjB;MACAC,YAAY,CAACD,EAAD,CAAZ;IACD,CAHW;EATE,CAAD,CAAf;AAcD,CA9BM","names":["React","useConst","useSetTimeout","timeoutIds","useEffect","keys","_i","id","clearTimeout","setTimeout","func","duration"],"sources":["D:\\PFCJACOBO\\PFC\\mycinemalist\\node_modules\\office-ui-fabric-react\\node_modules\\@uifabric\\react-hooks\\src\\useSetTimeout.ts"],"sourcesContent":["import * as React from 'react';\nimport { useConst } from './useConst';\n\nexport type UseSetTimeoutReturnType = {\n  setTimeout: (callback: () => void, duration: number) => number;\n  clearTimeout: (id: number) => void;\n};\n\n/**\n *  Returns a wrapper function for `setTimeout` which automatically handles disposal.\n */\nexport const useSetTimeout = (): UseSetTimeoutReturnType => {\n  const timeoutIds = useConst<Record<number, number>>({});\n\n  // Cleanup function.\n  React.useEffect(\n    () => () => {\n      for (const id of Object.keys(timeoutIds)) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        clearTimeout(id as any);\n      }\n    },\n    // useConst ensures this will never change, but react-hooks/exhaustive-deps doesn't know that\n    [timeoutIds],\n  );\n\n  // Return wrapper which will auto cleanup.\n  return useConst({\n    setTimeout: (func: () => void, duration: number): number => {\n      const id = (setTimeout(func, duration) as unknown) as number;\n\n      timeoutIds[id] = 1;\n\n      return id;\n    },\n\n    clearTimeout: (id: number): void => {\n      delete timeoutIds[id];\n      clearTimeout(id);\n    },\n  });\n};\n"]},"metadata":{},"sourceType":"module"}