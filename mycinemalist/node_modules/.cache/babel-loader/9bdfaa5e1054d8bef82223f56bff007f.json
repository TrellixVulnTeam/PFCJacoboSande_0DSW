{"ast":null,"code":"import _asyncToGenerator from\"D:/PFCJACOBO/PFC/mycinemalist/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"D:/PFCJACOBO/PFC/mycinemalist/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/PFCJACOBO/PFC/mycinemalist/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/PFCJACOBO/PFC/mycinemalist/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/PFCJACOBO/PFC/mycinemalist/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"D:\\\\PFCJACOBO\\\\PFC\\\\mycinemalist\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from'react';import{BrowserRouter as Router,Routes,Route,Link}from\"react-router-dom\";import'./App.css';import ListaContent from\"./components/ListaContent\";import{Content}from'./common/Content';import LoginRegister from'./components/LoginRegister';import{Stack}from'office-ui-fabric-react';import{ContextualCliente}from'./common/Helper';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props,state){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.dataContent={};_this.state={isDataLoaded:false,isUserLogged:true};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){console.log(\"se monto la app y la gozadera tambien\");this.initContent();}},{key:\"initContent\",value:function(){var _initContent=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;var content,favs,contenido;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"init\");_context.prev=1;_context.next=4;return fetch(\"http://localhost:8080/getAllContent.php\",{mode:\"cors\"});case 4:contenido=_context.sent;_context.next=7;return contenido.json();case 7:content=_context.sent;_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.log(_context.t0);// Manage error codes\ncase 13:content.map(function(item){var content=new Content(item,true);_this2.dataContent[content.title]=content;return true;});console.log(content);this.setState({isDataLoaded:true});case 16:case\"end\":return _context.stop();}}},_callee,this,[[1,10]]);}));function initContent(){return _initContent.apply(this,arguments);}return initContent;}()},{key:\"loggedUser\",value:function(){var _loggedUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(userLogged){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:case\"end\":return _context2.stop();}}},_callee2);}));function loggedUser(_x){return _loggedUser.apply(this,arguments);}return loggedUser;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container mt-5\"},this.state.isUserLogged&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Stack,{horizontal:true,horizontalAlign:\"space-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"btn-group\"},/*#__PURE__*/React.createElement(Link,{to:\"/listaContent\",className:\"btn btn-dark me-2 border border-3 border-white rounded mt-2\"},\"Inicio\"),/*#__PURE__*/React.createElement(Link,{to:\"/favorites\",className:\"btn btn-dark me-2 border border-3 border-white rounded mt-2\"},\"Mis favoritos\"),/*#__PURE__*/React.createElement(Link,{to:\"/suggestion\",className:\"btn btn-dark me-2 border border-3 border-white rounded mt-2\"},\"Sugerir\")),/*#__PURE__*/React.createElement(Stack,null,/*#__PURE__*/React.createElement(ContextualCliente,{nuevaBolsa:function nuevaBolsa(){// this.CrearEditarBolsa();\n},nuevoRegistro:function nuevoRegistro(){// this.CrearEditarRegistro(null);\n}}))),/*#__PURE__*/React.createElement(\"hr\",null)),/*#__PURE__*/React.createElement(Routes,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",element:/*#__PURE__*/React.createElement(LoginRegister,{submit:this.loggedUser.bind(this)})}),this.state.isDataLoaded?/*#__PURE__*/React.createElement(Route,{path:\"/listaContent\",element:/*#__PURE__*/React.createElement(ListaContent,{dataContent:this.dataContent})}):/*#__PURE__*/React.createElement(React.Fragment,null))));}}]);return App;}(React.Component);export{App as default};","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Link","ListaContent","Content","LoginRegister","Stack","ContextualCliente","App","props","state","dataContent","isDataLoaded","isUserLogged","console","log","initContent","fetch","mode","contenido","json","content","map","item","title","setState","userLogged","loggedUser","bind","Component"],"sources":["D:/PFCJACOBO/PFC/mycinemalist/src/App.tsx"],"sourcesContent":["import React, { Component } from 'react'; import {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport logo from './logo.svg';\nimport './App.css';\nimport ListaContent from \"./components/ListaContent\";\nimport { Content } from './common/Content';\nimport LoginRegister from './components/LoginRegister';\nimport { Stack } from 'office-ui-fabric-react';\nimport { ContextualCliente } from './common/Helper';\nimport { User } from './common/User';\n\n\ninterface IAppProps {\n  // dataFromParent: [];\n}\n\ninterface IAppState {\n  isDataLoaded: boolean;\n  isUserLogged: boolean;\n}\n\n\nexport default class App extends React.Component<\n  IAppProps,\n  IAppState\n> {\n  public dataContent: {\n    [key: string]: Content;\n  } = {};\n\n  constructor(props: IAppProps, state: IAppState) {\n    super(props);\n    this.state = {\n      isDataLoaded: false,\n      isUserLogged: true,\n\n    };\n\n  }\n  public componentDidMount() {\n    console.log(\"se monto la app y la gozadera tambien\")\n    this.initContent();\n  }\n  public async initContent() {\n    console.log(\"init\");\n    let content;\n    let favs;\n    try {\n      const contenido = await fetch(`http://localhost:8080/getAllContent.php`, {\n        mode: \"cors\",\n      });\n\n      // const favoritos = await fetch(`http://localhost:8080/getAllFavs.php`, {\n      //   mode: \"cors\",\n      // });\n      content = await contenido.json();\n      // favs = await favoritos.json();\n\n    } catch (error) {\n      console.log(error);\n      // Manage error codes\n    }\n    content.map((item) => {\n      var content = new Content(item, true);\n      this.dataContent[content.title] = content;\n      return true;\n    });\n\n    console.log(content);\n    this.setState({ isDataLoaded: true });\n  }\n\n  private async loggedUser(userLogged:User) {\n\n\n\n\n  }\n  render() {\n    return (\n      <Router>\n        <div className=\"container mt-5\">\n          {this.state.isUserLogged &&\n            <><Stack\n              horizontal\n              horizontalAlign='space-between'\n            >\n              <div\n                className=\"btn-group\">\n                <Link to=\"/listaContent\" className=\"btn btn-dark me-2 border border-3 border-white rounded mt-2\">Inicio</Link>\n                <Link to=\"/favorites\" className=\"btn btn-dark me-2 border border-3 border-white rounded mt-2\">Mis favoritos</Link>\n                <Link to=\"/suggestion\" className=\"btn btn-dark me-2 border border-3 border-white rounded mt-2\">Sugerir</Link>\n              </div>\n              <Stack>\n                <ContextualCliente\n                  nuevaBolsa={() => {\n                    // this.CrearEditarBolsa();\n                  }}\n                  nuevoRegistro={() => {\n                    // this.CrearEditarRegistro(null);\n                  }}\n                />\n              </Stack>\n\n            </Stack><hr /></>}\n\n          <Routes>\n            {/* <Route path=\"/\" element={<LoginRegister submit={this.loggedUser()} /> } /> */}\n            {/* <FormCrear\n        submit={SubmitFormulario.bind(this)}\n        cliente={this.clienteActual}\n        context={this.props.context}\n      ></FormCrear> */}\n            <Route path=\"/\" element={<LoginRegister submit={this.loggedUser.bind(this)}\n            />} />\n\n            {this.state.isDataLoaded ? (\n              <Route path=\"/listaContent\" element={<ListaContent dataContent={this.dataContent} />} />\n            ) : (\n              <></>\n            )}\n\n\n          </Routes>\n        </div>\n      </Router>\n    );\n  }\n}\n\n"],"mappings":"u4BAAA,MAAOA,CAAAA,KAAP,KAAiC,OAAjC,CAA0C,OACxCC,aAAa,GAAIC,CAAAA,MADuB,CAExCC,MAFwC,CAGxCC,KAHwC,CAIxCC,IAJwC,KAKnC,kBALmC,CAO1C,MAAO,WAAP,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CACA,OAASC,KAAT,KAAsB,wBAAtB,CACA,OAASC,iBAAT,KAAkC,iBAAlC,C,GAcqBC,CAAAA,G,sGAQnB,aAAYC,KAAZ,CAA8BC,KAA9B,CAAgD,qCAC9C,uBAAMD,KAAN,EAD8C,MAJzCE,WAIyC,CAF5C,EAE4C,CAE9C,MAAKD,KAAL,CAAa,CACXE,YAAY,CAAE,KADH,CAEXC,YAAY,CAAE,IAFH,CAAb,CAF8C,aAQ/C,C,iDACD,4BAA2B,CACzBC,OAAO,CAACC,GAAR,CAAY,uCAAZ,EACA,KAAKC,WAAL,GACD,C,+GACD,8KACEF,OAAO,CAACC,GAAR,CAAY,MAAZ,EADF,sCAK4BE,CAAAA,KAAK,2CAA4C,CACvEC,IAAI,CAAE,MADiE,CAA5C,CALjC,QAKUC,SALV,qCAYoBA,CAAAA,SAAS,CAACC,IAAV,EAZpB,QAYIC,OAZJ,gGAgBIP,OAAO,CAACC,GAAR,cACA;AAjBJ,QAmBEM,OAAO,CAACC,GAAR,CAAY,SAACC,IAAD,CAAU,CACpB,GAAIF,CAAAA,OAAO,CAAG,GAAIjB,CAAAA,OAAJ,CAAYmB,IAAZ,CAAkB,IAAlB,CAAd,CACA,MAAI,CAACZ,WAAL,CAAiBU,OAAO,CAACG,KAAzB,EAAkCH,OAAlC,CACA,MAAO,KAAP,CACD,CAJD,EAMAP,OAAO,CAACC,GAAR,CAAYM,OAAZ,EACA,KAAKI,QAAL,CAAc,CAAEb,YAAY,CAAE,IAAhB,CAAd,EA1BF,qE,wMA6BA,kBAAyBc,UAAzB,uK,gHAMA,iBAAS,CACP,mBACE,oBAAC,MAAD,mBACE,2BAAK,SAAS,CAAC,gBAAf,EACG,KAAKhB,KAAL,CAAWG,YAAX,eACC,qDAAE,oBAAC,KAAD,EACA,UAAU,KADV,CAEA,eAAe,CAAC,eAFhB,eAIA,2BACE,SAAS,CAAC,WADZ,eAEE,oBAAC,IAAD,EAAM,EAAE,CAAC,eAAT,CAAyB,SAAS,CAAC,6DAAnC,WAFF,cAGE,oBAAC,IAAD,EAAM,EAAE,CAAC,YAAT,CAAsB,SAAS,CAAC,6DAAhC,kBAHF,cAIE,oBAAC,IAAD,EAAM,EAAE,CAAC,aAAT,CAAuB,SAAS,CAAC,6DAAjC,YAJF,CAJA,cAUA,oBAAC,KAAD,mBACE,oBAAC,iBAAD,EACE,UAAU,CAAE,qBAAM,CAChB;AACD,CAHH,CAIE,aAAa,CAAE,wBAAM,CACnB;AACD,CANH,EADF,CAVA,CAAF,cAqBQ,8BArBR,CAFJ,cAyBE,oBAAC,MAAD,mBAOE,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,oBAAC,aAAD,EAAe,MAAM,CAAE,KAAKc,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAvB,EAAzB,EAPF,CAUG,KAAKlB,KAAL,CAAWE,YAAX,cACC,oBAAC,KAAD,EAAO,IAAI,CAAC,eAAZ,CAA4B,OAAO,cAAE,oBAAC,YAAD,EAAc,WAAW,CAAE,KAAKD,WAAhC,EAArC,EADD,cAGC,wCAbJ,CAzBF,CADF,CADF,CAgDD,C,iBAzG8Bd,KAAK,CAACgC,S,SAAlBrB,G"},"metadata":{},"sourceType":"module"}