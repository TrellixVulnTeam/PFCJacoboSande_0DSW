{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { Customizations } from './Customizations';\nimport { hoistStatics } from '../hoistStatics';\nimport { CustomizerContext } from './CustomizerContext';\nimport { concatStyleSets } from '@uifabric/merge-styles';\nexport function customizable(scope, fields, concatStyles) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return function customizableFactory(ComposedComponent) {\n    var _a;\n\n    var resultClass = (_a =\n    /** @class */\n    function (_super) {\n      __extends(ComponentWithInjectedProps, _super);\n\n      function ComponentWithInjectedProps(props) {\n        var _this = _super.call(this, props) || this; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n        _this._styleCache = {};\n        _this._onSettingChanged = _this._onSettingChanged.bind(_this);\n        return _this;\n      }\n\n      ComponentWithInjectedProps.prototype.componentDidMount = function () {\n        Customizations.observe(this._onSettingChanged);\n      };\n\n      ComponentWithInjectedProps.prototype.componentWillUnmount = function () {\n        Customizations.unobserve(this._onSettingChanged);\n      };\n\n      ComponentWithInjectedProps.prototype.render = function () {\n        var _this = this;\n\n        return React.createElement(CustomizerContext.Consumer, null, function (context) {\n          var defaultProps = Customizations.getSettings(fields, scope, context.customizations); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n          var componentProps = _this.props; // If defaultProps.styles is a function, evaluate it before calling concatStyleSets\n\n          if (defaultProps.styles && typeof defaultProps.styles === 'function') {\n            defaultProps.styles = defaultProps.styles(__assign(__assign({}, defaultProps), componentProps));\n          } // If concatStyles is true and custom styles have been defined compute those styles\n\n\n          if (concatStyles && defaultProps.styles) {\n            if (_this._styleCache.default !== defaultProps.styles || _this._styleCache.component !== componentProps.styles) {\n              var mergedStyles = concatStyleSets(defaultProps.styles, componentProps.styles);\n              _this._styleCache.default = defaultProps.styles;\n              _this._styleCache.component = componentProps.styles;\n              _this._styleCache.merged = mergedStyles;\n            }\n\n            return React.createElement(ComposedComponent, __assign({}, defaultProps, componentProps, {\n              styles: _this._styleCache.merged\n            }));\n          }\n\n          return React.createElement(ComposedComponent, __assign({}, defaultProps, componentProps));\n        });\n      };\n\n      ComponentWithInjectedProps.prototype._onSettingChanged = function () {\n        this.forceUpdate();\n      };\n\n      return ComponentWithInjectedProps;\n    }(React.Component), _a.displayName = 'Customized' + scope, _a);\n    return hoistStatics(ComposedComponent, resultClass);\n  };\n}","map":{"version":3,"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,iBAAT,QAAsD,qBAAtD;AACA,SAASC,eAAT,QAAgC,wBAAhC;AAEA,OAAM,SAAUC,YAAV,CACJC,KADI,EAEJC,MAFI,EAGJC,YAHI,EAGkB;AAGtB;AACA,SAAO,SAASC,mBAAT,CAAgCC,iBAAhC,EAAyE;;;AAC9E,QAAMC,WAAW;AAAA;AAAA;AAA4CC;;AAM3D,0CAAYC,KAAZ,EAAoB;AAApB,oBACEC,kBAAMD,KAAN,KAAY,IADd,CAAoB,CAHpB;;;AACQE,4BAAgE,EAAhE;AAKNA,aAAI,CAACC,iBAAL,GAAyBD,KAAI,CAACC,iBAAL,CAAuBC,IAAvB,CAA4BF,KAA5B,CAAzB;;AACD;;AAEMG,+DAAP;AACEjB,sBAAc,CAACkB,OAAf,CAAuB,KAAKH,iBAA5B;AACD,OAFM;;AAIAE,kEAAP;AACEjB,sBAAc,CAACmB,SAAf,CAAyB,KAAKJ,iBAA9B;AACD,OAFM;;AAIAE,oDAAP;AAAA;;AACE,eACElB,oBAACG,iBAAiB,CAACkB,QAAnB,EAA2B,IAA3B,EACG,UAACC,OAAD,EAA4B;AAC3B,cAAMC,YAAY,GAAGtB,cAAc,CAACuB,WAAf,CAA2BjB,MAA3B,EAAmCD,KAAnC,EAA0CgB,OAAO,CAACG,cAAlD,CAArB,CAD2B,CAG3B;;AACA,cAAMC,cAAc,GAAGX,KAAI,CAACF,KAA5B,CAJ2B,CAM3B;;AACA,cAAIU,YAAY,CAACI,MAAb,IAAuB,OAAOJ,YAAY,CAACI,MAApB,KAA+B,UAA1D,EAAsE;AACpEJ,wBAAY,CAACI,MAAb,GAAsBJ,YAAY,CAACI,MAAb,CAAmBC,sBAAML,YAAN,GAAuBG,cAAvB,CAAnB,CAAtB;AACD,WAT0B,CAW3B;;;AACA,cAAIlB,YAAY,IAAIe,YAAY,CAACI,MAAjC,EAAyC;AACvC,gBACEZ,KAAI,CAACc,WAAL,CAAiBC,OAAjB,KAA6BP,YAAY,CAACI,MAA1C,IACAZ,KAAI,CAACc,WAAL,CAAiBE,SAAjB,KAA+BL,cAAc,CAACC,MAFhD,EAGE;AACA,kBAAMK,YAAY,GAAG5B,eAAe,CAACmB,YAAY,CAACI,MAAd,EAAsBD,cAAc,CAACC,MAArC,CAApC;AACAZ,mBAAI,CAACc,WAAL,CAAiBC,OAAjB,GAA2BP,YAAY,CAACI,MAAxC;AACAZ,mBAAI,CAACc,WAAL,CAAiBE,SAAjB,GAA6BL,cAAc,CAACC,MAA5C;AACAZ,mBAAI,CAACc,WAAL,CAAiBI,MAAjB,GAA0BD,YAA1B;AACD;;AAED,mBAAOhC,oBAACU,iBAAD,EAAkBkB,aAAKL,YAAL,EAAuBG,cAAvB,EAAqC;AAAEC,oBAAM,EAAEZ,KAAI,CAACc,WAAL,CAAiBI;AAA3B,aAArC,CAAlB,CAAP;AACD;;AAED,iBAAOjC,oBAACU,iBAAD,EAAkBkB,aAAKL,YAAL,EAAuBG,cAAvB,CAAlB,CAAP;AACD,SA5BH,CADF;AAgCD,OAjCM;;AAmCCR,+DAAR;AACE,aAAKgB,WAAL;AACD,OAFO;;AAGV;AAAC,KA1DgB,CAA4ClC,KAAK,CAACmC,SAAlD,GACDC,iBAAsB,eAAe9B,KADpC,KAAjB;AA4DA,WAAOJ,YAAY,CAACQ,iBAAD,EAAoBC,WAApB,CAAnB;AACD,GA9DD;AA+DD","names":["React","Customizations","hoistStatics","CustomizerContext","concatStyleSets","customizable","scope","fields","concatStyles","customizableFactory","ComposedComponent","resultClass","__extends","props","_super","_this","_onSettingChanged","bind","ComponentWithInjectedProps","observe","unobserve","Consumer","context","defaultProps","getSettings","customizations","componentProps","styles","__assign","_styleCache","default","component","mergedStyles","merged","forceUpdate","Component","_a"],"sources":["D:\\PFCJACOBO\\PFC\\mycinemalist\\node_modules\\@uifabric\\utilities\\lib\\src\\customizations\\customizable.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Customizations } from './Customizations';\nimport { hoistStatics } from '../hoistStatics';\nimport { CustomizerContext, ICustomizerContext } from './CustomizerContext';\nimport { concatStyleSets } from '@uifabric/merge-styles';\n\nexport function customizable(\n  scope: string,\n  fields: string[],\n  concatStyles?: boolean,\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n): <P>(ComposedComponent: React.ComponentType<P>) => any {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return function customizableFactory<P>(ComposedComponent: React.ComponentType<P>): any {\n    const resultClass = class ComponentWithInjectedProps extends React.Component<P, {}> {\n      public static displayName: string = 'Customized' + scope;\n\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      private _styleCache: { default?: any; component?: any; merged?: any } = {};\n\n      constructor(props: P) {\n        super(props);\n\n        this._onSettingChanged = this._onSettingChanged.bind(this);\n      }\n\n      public componentDidMount(): void {\n        Customizations.observe(this._onSettingChanged);\n      }\n\n      public componentWillUnmount(): void {\n        Customizations.unobserve(this._onSettingChanged);\n      }\n\n      public render(): JSX.Element {\n        return (\n          <CustomizerContext.Consumer>\n            {(context: ICustomizerContext) => {\n              const defaultProps = Customizations.getSettings(fields, scope, context.customizations);\n\n              // eslint-disable-next-line @typescript-eslint/no-explicit-any\n              const componentProps = this.props as any;\n\n              // If defaultProps.styles is a function, evaluate it before calling concatStyleSets\n              if (defaultProps.styles && typeof defaultProps.styles === 'function') {\n                defaultProps.styles = defaultProps.styles({ ...defaultProps, ...componentProps });\n              }\n\n              // If concatStyles is true and custom styles have been defined compute those styles\n              if (concatStyles && defaultProps.styles) {\n                if (\n                  this._styleCache.default !== defaultProps.styles ||\n                  this._styleCache.component !== componentProps.styles\n                ) {\n                  const mergedStyles = concatStyleSets(defaultProps.styles, componentProps.styles);\n                  this._styleCache.default = defaultProps.styles;\n                  this._styleCache.component = componentProps.styles;\n                  this._styleCache.merged = mergedStyles;\n                }\n\n                return <ComposedComponent {...defaultProps} {...componentProps} styles={this._styleCache.merged} />;\n              }\n\n              return <ComposedComponent {...defaultProps} {...componentProps} />;\n            }}\n          </CustomizerContext.Consumer>\n        );\n      }\n\n      private _onSettingChanged(): void {\n        this.forceUpdate();\n      }\n    };\n\n    return hoistStatics(ComposedComponent, resultClass);\n  };\n}\n"]},"metadata":{},"sourceType":"module"}