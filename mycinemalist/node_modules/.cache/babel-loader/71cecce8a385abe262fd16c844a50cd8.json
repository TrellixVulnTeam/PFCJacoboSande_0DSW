{"ast":null,"code":"var _jsxFileName = \"D:\\\\PFCJACOBO\\\\PFC\\\\mycinemalist\\\\src\\\\App.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Link } from \"react-router-dom\";\nimport './App.css';\nimport ListaContent from \"./components/ListaContent\";\nimport { Content } from './common/Content';\nimport LoginRegister from './components/LoginRegister';\nimport { Stack } from 'office-ui-fabric-react';\nimport { ContextualCliente } from './common/Helper';\n\nfunction App(props) {\n  _s();\n\n  const dataContent = {};\n  const [isDataLoaded, setIsDataLoaded] = useState(false);\n  const [isUserLogged, setIsUserLogged] = useState(false);\n  const [userLogged, setUserLogged] = useState(null);\n  useEffect(() => {\n    console.log(\"se monto la app y la gozadera tambien\");\n    this.initContent();\n  }, []);\n\n  const initContent = async () => {\n    console.log(\"init\");\n    let content;\n    let favs;\n\n    try {\n      const contenido = await fetch(`http://localhost:8080/getAllContent.php`, {\n        mode: \"cors\"\n      }); // const favoritos = await fetch(`http://localhost:8080/getAllFavs.php`, {\n      //   mode: \"cors\",\n      // });\n\n      content = await contenido.json(); // favs = await favoritos.json();\n    } catch (error) {\n      console.log(error); // Manage error codes\n    }\n\n    content.map(item => {\n      var content = new Content(item, true);\n      dataContent[content.title] = content;\n      return true;\n    });\n    console.log(content);\n    setIsDataLoaded(true);\n\n    const loggedUser = userLogged => {\n      setIsUserLogged(true);\n      setUserLogged(userLogged);\n    };\n\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }, this.state.isUserLogged && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Stack, {\n      horizontal: true,\n      horizontalAlign: \"space-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/listaContent\",\n      className: \"btn btn-dark me-2 border border-3 border-white rounded mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, \"Inicio\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/favorites\",\n      className: \"btn btn-dark me-2 border border-3 border-white rounded mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, \"Mis favoritos\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/suggestion\",\n      className: \"btn btn-dark me-2 border border-3 border-white rounded mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, \"Sugerir\")), /*#__PURE__*/React.createElement(Stack, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ContextualCliente, {\n      nuevaBolsa: () => {// this.CrearEditarBolsa();\n      },\n      nuevoRegistro: () => {// this.CrearEditarRegistro(null);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Routes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      element: /*#__PURE__*/React.createElement(LoginRegister, {\n        submit: loggedUser.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 38\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }), isDataLoaded ? /*#__PURE__*/React.createElement(Route, {\n      path: \"/listaContent\",\n      element: /*#__PURE__*/React.createElement(ListaContent, {\n        dataContent: dataContent,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 52\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }) : /*#__PURE__*/React.createElement(React.Fragment, null))));\n  };\n}\n\n_s(App, \"RbynmsaorXXB6p00owUUzGXxhos=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Routes","Route","Link","ListaContent","Content","LoginRegister","Stack","ContextualCliente","App","props","dataContent","isDataLoaded","setIsDataLoaded","isUserLogged","setIsUserLogged","userLogged","setUserLogged","console","log","initContent","content","favs","contenido","fetch","mode","json","error","map","item","title","loggedUser","state","bind"],"sources":["D:/PFCJACOBO/PFC/mycinemalist/src/App.tsx"],"sourcesContent":["import React, { Component, useEffect, useState } from 'react'; import {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Link,\n  useNavigate,\n\n} from \"react-router-dom\";\nimport logo from './logo.svg';\nimport './App.css';\nimport ListaContent from \"./components/ListaContent\";\nimport { Content } from './common/Content';\nimport LoginRegister from './components/LoginRegister';\nimport { Stack } from 'office-ui-fabric-react';\nimport { ContextualCliente } from './common/Helper';\nimport { User } from './common/User';\n\ninterface IAppProps {\n  // dataFromParent: [];\n}\n\ninterface IAppState {\n  isDataLoaded: boolean;\n  isUserLogged: boolean;\n  userLogged: User;\n}\n\n\nfunction App(props) {\n  const dataContent: {\n    [key: string]: Content;\n  } = {};\n\n\n  const [isDataLoaded, setIsDataLoaded] = useState(false);\n  const [isUserLogged, setIsUserLogged] = useState(false);\n  const [userLogged, setUserLogged] = useState(null);\n\n  useEffect(()=>{\n    console.log(\"se monto la app y la gozadera tambien\")\n    this.initContent();\n  },[]) \n \n  const initContent = async () => {\n    console.log(\"init\");\n    let content;\n    let favs;\n    try {\n      const contenido = await fetch(`http://localhost:8080/getAllContent.php`, {\n        mode: \"cors\",\n      });\n\n      // const favoritos = await fetch(`http://localhost:8080/getAllFavs.php`, {\n      //   mode: \"cors\",\n      // });\n      content = await contenido.json();\n      // favs = await favoritos.json();\n\n    } catch (error) {\n      console.log(error);\n      // Manage error codes\n    }\n    content.map((item) => {\n      var content = new Content(item, true);\n      dataContent[content.title] = content;\n      return true;\n    });\n\n    console.log(content);\n    setIsDataLoaded(true);\n\n    const loggedUser = (userLogged: User) => {\n      setIsUserLogged(true);\n      setUserLogged(userLogged);\n    }\n\n    return (\n      <Router>\n        <div className=\"container mt-5\">\n          {this.state.isUserLogged &&\n            <><Stack\n              horizontal\n              horizontalAlign='space-between'\n            >\n              <div\n                className=\"btn-group\">\n                <Link to=\"/listaContent\" className=\"btn btn-dark me-2 border border-3 border-white rounded mt-2\">Inicio</Link>\n                <Link to=\"/favorites\" className=\"btn btn-dark me-2 border border-3 border-white rounded mt-2\">Mis favoritos</Link>\n                <Link to=\"/suggestion\" className=\"btn btn-dark me-2 border border-3 border-white rounded mt-2\">Sugerir</Link>\n              </div>\n              <Stack>\n                <ContextualCliente\n                  nuevaBolsa={() => {\n                    // this.CrearEditarBolsa();\n                  }}\n                  nuevoRegistro={() => {\n                    // this.CrearEditarRegistro(null);\n                  }}\n                />\n              </Stack>\n\n            </Stack><hr /></>}\n\n          <Routes>\n            {/* <Route path=\"/\" element={<LoginRegister submit={this.loggedUser()} /> } /> */}\n            {/* <FormCrear\n        submit={SubmitFormulario.bind(this)}\n        cliente={this.clienteActual}\n        context={this.props.context}\n      ></FormCrear> */}\n            <Route path=\"/\" element={<LoginRegister submit={loggedUser.bind(this)}\n            />} />\n\n            {isDataLoaded ? (\n              <Route path=\"/listaContent\" element={<ListaContent dataContent={dataContent} />} />\n            ) : (\n              <></>\n            )}\n\n\n          </Routes>\n        </div>\n      </Router>\n    );\n  }\n}\n\n  export default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}