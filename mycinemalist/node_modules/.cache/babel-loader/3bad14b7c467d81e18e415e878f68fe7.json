{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { initializeComponentRef, warnDeprecations, getId, KeyCodes, classNamesFunction, getNativeProps, inputProperties } from '../../Utilities';\nimport { IconButton } from '../../Button';\nimport { Icon } from '../../Icon';\nvar getClassNames = classNamesFunction();\nvar COMPONENT_NAME = 'SearchBox';\n\nvar SearchBoxBase =\n/** @class */\nfunction (_super) {\n  __extends(SearchBoxBase, _super);\n\n  function SearchBoxBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._rootElement = React.createRef();\n    _this._inputElement = React.createRef();\n\n    _this._onClickFocus = function () {\n      var inputElement = _this._inputElement.current;\n\n      if (inputElement) {\n        _this.focus();\n\n        inputElement.selectionStart = inputElement.selectionEnd = 0;\n      }\n    };\n\n    _this._onFocusCapture = function (ev) {\n      _this.setState({\n        hasFocus: true\n      });\n\n      if (_this.props.onFocus) {\n        _this.props.onFocus(ev);\n      }\n    };\n\n    _this._onClearClick = function (ev) {\n      var clearButtonProps = _this.props.clearButtonProps;\n\n      if (clearButtonProps && clearButtonProps.onClick) {\n        clearButtonProps.onClick(ev);\n      }\n\n      if (!ev.defaultPrevented) {\n        _this._onClear(ev);\n      }\n    };\n\n    _this._onKeyDown = function (ev) {\n      switch (ev.which) {\n        case KeyCodes.escape:\n          _this.props.onEscape && _this.props.onEscape(ev); // Only call onClear if the search box has a value to clear. Otherwise, allow the Esc key\n          // to propagate from the empty search box to a parent element such as a dialog, etc.\n\n          if (_this.state.value && !ev.defaultPrevented) {\n            _this._onClear(ev);\n          }\n\n          break;\n\n        case KeyCodes.enter:\n          if (_this.props.onSearch) {\n            _this.props.onSearch(_this.state.value);\n\n            ev.preventDefault();\n            ev.stopPropagation();\n          }\n\n          break;\n\n        default:\n          _this.props.onKeyDown && _this.props.onKeyDown(ev);\n\n          if (ev.defaultPrevented) {\n            ev.stopPropagation();\n          }\n\n          break;\n      }\n    };\n\n    _this._onBlur = function (ev) {\n      _this.setState({\n        hasFocus: false\n      });\n\n      if (_this.props.onBlur) {\n        _this.props.onBlur(ev);\n      }\n    };\n\n    _this._onInputChange = function (ev) {\n      var value = ev.target.value;\n\n      if (value === _this._latestValue) {\n        return;\n      }\n\n      _this._latestValue = value;\n\n      _this.setState({\n        value: value\n      });\n\n      _this._callOnChange(ev, value);\n    };\n\n    initializeComponentRef(_this);\n    warnDeprecations(COMPONENT_NAME, props, {\n      labelText: 'placeholder',\n      defaultValue: 'value'\n    });\n    _this._latestValue = props.value || '';\n    _this._fallbackId = getId(COMPONENT_NAME);\n    _this.state = {\n      value: _this._latestValue,\n      hasFocus: false\n    };\n    return _this;\n  }\n\n  SearchBoxBase.prototype.UNSAFE_componentWillReceiveProps = function (newProps) {\n    if (newProps.value !== undefined) {\n      this._latestValue = newProps.value; // If the user passes in null, substitute an empty string\n      // (passing null is not allowed per typings, but users might do it anyway)\n\n      this.setState({\n        value: newProps.value || ''\n      });\n    }\n  };\n\n  SearchBoxBase.prototype.render = function () {\n    var _a = this.props,\n        ariaLabel = _a.ariaLabel,\n        placeholder = _a.placeholder,\n        className = _a.className,\n        disabled = _a.disabled,\n        underlined = _a.underlined,\n        styles = _a.styles,\n        // eslint-disable-next-line deprecation/deprecation\n    labelText = _a.labelText,\n        theme = _a.theme,\n        clearButtonProps = _a.clearButtonProps,\n        disableAnimation = _a.disableAnimation,\n        iconProps = _a.iconProps,\n        role = _a.role,\n        _b = _a.id,\n        id = _b === void 0 ? this._fallbackId : _b;\n    var _c = this.state,\n        value = _c.value,\n        hasFocus = _c.hasFocus;\n    var placeholderValue = placeholder !== undefined ? placeholder : labelText;\n    var classNames = getClassNames(styles, {\n      theme: theme,\n      className: className,\n      underlined: underlined,\n      hasFocus: hasFocus,\n      disabled: disabled,\n      hasInput: value.length > 0,\n      disableAnimation: disableAnimation\n    });\n    var nativeProps = getNativeProps(this.props, inputProperties, ['className', 'placeholder', 'onFocus', 'onBlur', 'value', 'role']);\n    return React.createElement(\"div\", {\n      role: role,\n      ref: this._rootElement,\n      className: classNames.root,\n      onFocusCapture: this._onFocusCapture\n    }, React.createElement(\"div\", {\n      className: classNames.iconContainer,\n      onClick: this._onClickFocus,\n      \"aria-hidden\": true\n    }, React.createElement(Icon, __assign({\n      iconName: \"Search\"\n    }, iconProps, {\n      className: classNames.icon\n    }))), React.createElement(\"input\", __assign({}, nativeProps, {\n      id: id,\n      className: classNames.field,\n      placeholder: placeholderValue,\n      onChange: this._onInputChange,\n      onInput: this._onInputChange,\n      onBlur: this._onBlur,\n      onKeyDown: this._onKeyDown,\n      value: value,\n      disabled: disabled,\n      role: \"searchbox\",\n      \"aria-label\": ariaLabel,\n      ref: this._inputElement\n    })), value.length > 0 && React.createElement(\"div\", {\n      className: classNames.clearButton\n    }, React.createElement(IconButton, __assign({\n      onBlur: this._onBlur,\n      styles: {\n        root: {\n          height: 'auto'\n        },\n        icon: {\n          fontSize: '12px'\n        }\n      },\n      iconProps: {\n        iconName: 'Clear'\n      }\n    }, clearButtonProps, {\n      onClick: this._onClearClick\n    }))));\n  };\n  /**\n   * Sets focus to the search box input field\n   */\n\n\n  SearchBoxBase.prototype.focus = function () {\n    if (this._inputElement.current) {\n      this._inputElement.current.focus();\n    }\n  };\n  /**\n   * Returns whether or not the SearchBox has focus\n   */\n\n\n  SearchBoxBase.prototype.hasFocus = function () {\n    return !!this.state.hasFocus;\n  };\n\n  SearchBoxBase.prototype._onClear = function (ev) {\n    this.props.onClear && this.props.onClear(ev);\n\n    if (!ev.defaultPrevented) {\n      this._latestValue = '';\n      this.setState({\n        value: ''\n      });\n\n      this._callOnChange(undefined, '');\n\n      ev.stopPropagation();\n      ev.preventDefault();\n      this.focus();\n    }\n  };\n\n  SearchBoxBase.prototype._callOnChange = function (ev, newValue) {\n    // eslint-disable-next-line deprecation/deprecation\n    var _a = this.props,\n        onChange = _a.onChange,\n        onChanged = _a.onChanged; // Call @deprecated method.\n\n    if (onChanged) {\n      onChanged(newValue);\n    }\n\n    if (onChange) {\n      onChange(ev, newValue);\n    }\n  };\n\n  SearchBoxBase.defaultProps = {\n    disableAnimation: false,\n    clearButtonProps: {\n      ariaLabel: 'Clear text'\n    }\n  };\n  return SearchBoxBase;\n}(React.Component);\n\nexport { SearchBoxBase };","map":{"version":3,"mappings":"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","names":["React","initializeComponentRef","warnDeprecations","getId","KeyCodes","classNamesFunction","getNativeProps","inputProperties","IconButton","Icon","getClassNames","COMPONENT_NAME","__extends","props","_super","_this","createRef","inputElement","_inputElement","current","focus","selectionStart","selectionEnd","ev","setState","hasFocus","onFocus","clearButtonProps","onClick","defaultPrevented","_onClear","which","escape","onEscape","state","value","enter","onSearch","preventDefault","stopPropagation","onKeyDown","onBlur","target","_latestValue","_callOnChange","labelText","defaultValue","_fallbackId","SearchBoxBase","newProps","undefined","ariaLabel","placeholder","className","disabled","underlined","styles","theme","disableAnimation","iconProps","role","_b","id","placeholderValue","classNames","hasInput","length","nativeProps","ref","_rootElement","root","onFocusCapture","_onFocusCapture","iconContainer","_onClickFocus","__assign","iconName","icon","field","onChange","_onInputChange","onInput","_onBlur","_onKeyDown","clearButton","height","fontSize","_onClearClick","onClear","newValue","onChanged","Component"],"sources":["D:\\PFCJACOBO\\PFC\\mycinemalist\\node_modules\\office-ui-fabric-react\\lib\\components\\src\\components\\SearchBox\\SearchBox.base.tsx"],"sourcesContent":["import * as React from 'react';\nimport { ISearchBoxProps, ISearchBoxStyleProps, ISearchBoxStyles } from './SearchBox.types';\nimport {\n  initializeComponentRef,\n  warnDeprecations,\n  getId,\n  KeyCodes,\n  classNamesFunction,\n  getNativeProps,\n  inputProperties,\n} from '../../Utilities';\n\nimport { IconButton } from '../../Button';\nimport { Icon } from '../../Icon';\n\nconst getClassNames = classNamesFunction<ISearchBoxStyleProps, ISearchBoxStyles>();\nconst COMPONENT_NAME = 'SearchBox';\n\nexport interface ISearchBoxState {\n  value?: string;\n  hasFocus?: boolean;\n}\n\nexport class SearchBoxBase extends React.Component<ISearchBoxProps, ISearchBoxState> {\n  public static defaultProps: Pick<ISearchBoxProps, 'disableAnimation' | 'clearButtonProps'> = {\n    disableAnimation: false,\n    clearButtonProps: { ariaLabel: 'Clear text' },\n  };\n\n  private _rootElement = React.createRef<HTMLDivElement>();\n  private _inputElement = React.createRef<HTMLInputElement>();\n  private _latestValue: string;\n  private _fallbackId: string;\n\n  public constructor(props: ISearchBoxProps) {\n    super(props);\n\n    initializeComponentRef(this);\n\n    warnDeprecations(COMPONENT_NAME, props, {\n      labelText: 'placeholder',\n      defaultValue: 'value',\n    });\n\n    this._latestValue = props.value || '';\n    this._fallbackId = getId(COMPONENT_NAME);\n\n    this.state = {\n      value: this._latestValue,\n      hasFocus: false,\n    };\n  }\n\n  public UNSAFE_componentWillReceiveProps(newProps: ISearchBoxProps): void {\n    if (newProps.value !== undefined) {\n      this._latestValue = newProps.value;\n      // If the user passes in null, substitute an empty string\n      // (passing null is not allowed per typings, but users might do it anyway)\n      this.setState({\n        value: newProps.value || '',\n      });\n    }\n  }\n\n  public render() {\n    const {\n      ariaLabel,\n      placeholder,\n      className,\n      disabled,\n      underlined,\n      styles,\n      // eslint-disable-next-line deprecation/deprecation\n      labelText,\n      theme,\n      clearButtonProps,\n      disableAnimation,\n      iconProps,\n      role,\n      id = this._fallbackId,\n    } = this.props;\n    const { value, hasFocus } = this.state;\n    const placeholderValue = placeholder !== undefined ? placeholder : labelText;\n\n    const classNames = getClassNames(styles!, {\n      theme: theme!,\n      className,\n      underlined,\n      hasFocus,\n      disabled,\n      hasInput: value!.length > 0,\n      disableAnimation,\n    });\n\n    const nativeProps = getNativeProps<React.InputHTMLAttributes<HTMLInputElement>>(this.props, inputProperties, [\n      'className',\n      'placeholder',\n      'onFocus',\n      'onBlur',\n      'value',\n      'role',\n    ]);\n\n    return (\n      <div role={role} ref={this._rootElement} className={classNames.root} onFocusCapture={this._onFocusCapture}>\n        <div className={classNames.iconContainer} onClick={this._onClickFocus} aria-hidden={true}>\n          <Icon iconName=\"Search\" {...iconProps} className={classNames.icon} />\n        </div>\n        <input\n          {...nativeProps}\n          id={id}\n          className={classNames.field}\n          placeholder={placeholderValue}\n          onChange={this._onInputChange}\n          onInput={this._onInputChange}\n          onBlur={this._onBlur}\n          onKeyDown={this._onKeyDown}\n          value={value}\n          disabled={disabled}\n          role=\"searchbox\"\n          aria-label={ariaLabel}\n          ref={this._inputElement}\n        />\n        {value!.length > 0 && (\n          <div className={classNames.clearButton}>\n            <IconButton\n              onBlur={this._onBlur}\n              styles={{ root: { height: 'auto' }, icon: { fontSize: '12px' } }}\n              iconProps={{ iconName: 'Clear' }}\n              {...clearButtonProps}\n              onClick={this._onClearClick}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  /**\n   * Sets focus to the search box input field\n   */\n  public focus() {\n    if (this._inputElement.current) {\n      this._inputElement.current.focus();\n    }\n  }\n\n  /**\n   * Returns whether or not the SearchBox has focus\n   */\n  public hasFocus(): boolean {\n    return !!this.state.hasFocus;\n  }\n\n  private _onClear(ev: React.MouseEvent<HTMLAnchorElement | HTMLButtonElement> | React.KeyboardEvent<HTMLElement>) {\n    this.props.onClear && this.props.onClear(ev);\n    if (!ev.defaultPrevented) {\n      this._latestValue = '';\n      this.setState({\n        value: '',\n      });\n      this._callOnChange(undefined, '');\n      ev.stopPropagation();\n      ev.preventDefault();\n\n      this.focus();\n    }\n  }\n\n  private _onClickFocus = () => {\n    const inputElement = this._inputElement.current;\n    if (inputElement) {\n      this.focus();\n      inputElement.selectionStart = inputElement.selectionEnd = 0;\n    }\n  };\n\n  private _onFocusCapture = (ev: React.FocusEvent<HTMLElement>) => {\n    this.setState({\n      hasFocus: true,\n    });\n\n    if (this.props.onFocus) {\n      this.props.onFocus(ev as React.FocusEvent<HTMLInputElement>);\n    }\n  };\n\n  private _onClearClick = (ev: React.MouseEvent<HTMLAnchorElement | HTMLButtonElement>) => {\n    const { clearButtonProps } = this.props;\n\n    if (clearButtonProps && clearButtonProps.onClick) {\n      clearButtonProps.onClick(ev);\n    }\n\n    if (!ev.defaultPrevented) {\n      this._onClear(ev);\n    }\n  };\n\n  private _onKeyDown = (ev: React.KeyboardEvent<HTMLInputElement>) => {\n    switch (ev.which) {\n      case KeyCodes.escape:\n        this.props.onEscape && this.props.onEscape(ev);\n        // Only call onClear if the search box has a value to clear. Otherwise, allow the Esc key\n        // to propagate from the empty search box to a parent element such as a dialog, etc.\n        if (this.state.value && !ev.defaultPrevented) {\n          this._onClear(ev);\n        }\n        break;\n\n      case KeyCodes.enter:\n        if (this.props.onSearch) {\n          this.props.onSearch(this.state.value);\n          ev.preventDefault();\n          ev.stopPropagation();\n        }\n        break;\n\n      default:\n        this.props.onKeyDown && this.props.onKeyDown(ev);\n        if (ev.defaultPrevented) {\n          ev.stopPropagation();\n        }\n        break;\n    }\n  };\n\n  private _onBlur = (ev: React.FocusEvent<HTMLInputElement>): void => {\n    this.setState({\n      hasFocus: false,\n    });\n\n    if (this.props.onBlur) {\n      this.props.onBlur(ev);\n    }\n  };\n\n  private _onInputChange = (ev: React.ChangeEvent<HTMLInputElement>) => {\n    const value = ev.target.value;\n\n    if (value === this._latestValue) {\n      return;\n    }\n    this._latestValue = value;\n\n    this.setState({ value });\n    this._callOnChange(ev, value);\n  };\n\n  private _callOnChange(ev?: React.ChangeEvent<HTMLInputElement>, newValue?: string): void {\n    // eslint-disable-next-line deprecation/deprecation\n    const { onChange, onChanged } = this.props;\n\n    // Call @deprecated method.\n    if (onChanged) {\n      onChanged(newValue);\n    }\n\n    if (onChange) {\n      onChange(ev, newValue);\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}