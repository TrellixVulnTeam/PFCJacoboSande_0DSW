{"ast":null,"code":"var _jsxFileName = \"D:\\\\PFCJACOBO\\\\PFC\\\\mycinemalist\\\\src\\\\components\\\\Suggestions.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport { Callout, DefaultButton, getIconClassName, IconButton, mergeStyleSets, Stack, TextField } from \"office-ui-fabric-react\";\nimport * as $ from 'jquery';\nimport { Suggestion } from \"../common/Suggestion\";\nimport ReactDOM from \"react-dom\";\nimport commonStyles from \"../common/common.module.scss\";\nimport 'datatables.net';\nimport 'datatables.net-responsive';\nimport 'datatables.net-buttons';\nimport 'datatables.net-select';\nimport 'datatables.net-buttons/js/buttons.html5';\nimport 'datatables.net-buttons/js/buttons.print';\nimport FormSugg from \"./FormSugg\";\n\nfunction Suggestions(props) {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const [isOpenCallout, setIsOpenCallout] = useState(false);\n  const [targetTitle, setTargetTitle] = useState(\"\");\n  const [data, setData] = useState({});\n  const tableSugg = useRef(); // const table =null;\n\n  const dataSuggestions = {};\n  useEffect(() => {\n    setLoading(true);\n    console.log(props);\n    setTimeout(() => {\n      initSugg();\n    }, 100);\n  }, []);\n  useEffect(() => {\n    setTimeout(() => {\n      setLoading(false);\n    }, 500);\n  }, [loading]);\n\n  const initSugg = async () => {\n    mountTableSugg();\n    let suggestions;\n\n    try {\n      const suggest = await fetch(`http://localhost:8080/getAllSugg.php`, {\n        mode: \"cors\"\n      });\n      suggestions = await suggest.json();\n      console.log(suggestions);\n    } catch (error) {\n      console.log(error); // Manage error codes\n    }\n\n    var data = {};\n    suggestions.map(item => {\n      var suggestion = new Suggestion(item);\n      console.log(suggestion);\n      dataSuggestions[suggestion.id] = suggestion;\n      return true;\n    });\n    fillTableSugg(); // setLoading(false);\n  };\n\n  const fillTableSugg = () => {\n    console.log(\"llenar\");\n    let suggRow = [];\n    $.each(dataSuggestions, function (idx, listItem) {\n      console.log(listItem);\n      suggRow.push([listItem.title, `<span  id='${listItem.title}' title='${listItem.title}'>${listItem.title}<span>`, `<span title='${listItem.platform}'>${listItem.platform}<span>`, `<span title='${listItem.year}'>${listItem.year}<span>`, \"\"]);\n    });\n    console.log(suggRow);\n    tableSugg.current.rows.add(suggRow).draw();\n    tableSugg.current.draw();\n    tableSugg.current.responsive.recalc();\n    tableSugg.current.columns.adjust().draw();\n  };\n\n  const geticonoSiguiente = () => {\n    return `<i class=\"${getIconClassName(\"ChevronRightSmall\")}\" />`;\n  };\n\n  const geticonoAnterior = () => {\n    return `<i class=\"${getIconClassName(\"ChevronLeftSmall\")}\" />`;\n  };\n\n  const mountTableSugg = () => {\n    var siguiente = geticonoSiguiente();\n    var anterior = geticonoAnterior(); // Meter iconos de material ui\n    // this.renderIcons();\n\n    $.extend($.fn.dataTable.defaults, {\n      responsive: true\n    });\n    $.extend($.fn.dataTableExt.oSort, {\n      \"date-eu-asc\": function (a, b) {\n        if (a === \"\") return 1;else if (b === \"\") return -1;else {\n          var aDay = a.split(\"/\")[0];\n          var aMonth = a.split(\"/\")[1];\n          var aYear = a.split(\"/\")[2];\n          a = new Date(aMonth + \"/\" + aDay + \"/\" + aYear).getTime();\n          var bDay = b.split(\"/\")[0];\n          var bMonth = b.split(\"/\")[1];\n          var bYear = b.split(\"/\")[2];\n          b = new Date(bMonth + \"/\" + bDay + \"/\" + bYear).getTime();\n          return a < b ? -1 : a > b ? 1 : 0;\n        }\n      },\n      \"date-eu-desc\": function (a, b) {\n        if (a === \"\") return 1;else if (b === \"\") return -1;else {\n          var aDay = a.split(\"/\")[0];\n          var aMonth = a.split(\"/\")[1];\n          var aYear = a.split(\"/\")[2];\n          a = new Date(aMonth + \"/\" + aDay + \"/\" + aYear).getTime();\n          var bDay = b.split(\"/\")[0];\n          var bMonth = b.split(\"/\")[1];\n          var bYear = b.split(\"/\")[2];\n          b = new Date(bMonth + \"/\" + bDay + \"/\" + bYear).getTime();\n          return a < b ? 1 : a > b ? -1 : 0;\n        }\n      }\n    });\n    tableSugg.current = $(\"#SuggTable\").DataTable({\n      info: true,\n      pagingType: \"simple\",\n      deferRender: true,\n      dom: \"Brtip\",\n      order: [[1, \"desc\"]],\n      scrollX: false,\n      responsive: {\n        details: {\n          type: \"column\",\n          target: -1\n        }\n      },\n      buttons: [],\n      // lengthMenu: [[1, 2, 3, -1], [10, 25, 50, \"All\"]],\n      columnDefs: [{\n        className: \"control\",\n        orderable: false,\n        targets: -1\n      }, {\n        targets: [1, 2, 3],\n        width: \"300px\"\n      }, {\n        className: \"Botones\",\n        width: \"1%\",\n        targets: 0\n      }, {\n        targets: 0,\n        visible: false\n      }],\n      createdRow: (row, data, dataIndex, cells) => {\n        RenderizarTR(cells, data[0]);\n      },\n      language: {\n        decimal: \"\",\n        emptyTable: \"Sin datos\",\n        info: \"_START_ - _END_ (_TOTAL_ en total)\",\n        infoEmpty: \"0 - 0 (0 en total)\",\n        infoFiltered: \"(filtrados de _MAX_ registros totales)\",\n        infoPostFix: \"\",\n        thousands: \",\",\n        lengthMenu: \"Mostrar _MENU_\",\n        loadingRecords: \"Cargando...\",\n        processing: \"Procesando...\",\n        search: \"Búsqueda:\",\n        zeroRecords: \"Sin resultados\",\n        paginate: {\n          first: \"Primero\",\n          last: \"Último\",\n          next: siguiente,\n          previous: anterior\n        },\n        aria: {\n          sortAscending: \": activar para ordenar ascendente\",\n          sortDescending: \": activar para ordenar descendente\"\n        },\n        bAutoWidth: false\n      }\n    });\n    $(\"#SuggTable\").on(\"click\", \"tr\", async function () {\n      let id = $(this).children(0)[0].childNodes[0].attributes.title.value;\n      setTargetTitle(id);\n    });\n    setTimeout(() => {\n      tableSugg.current.responsive.recalc();\n      tableSugg.current.columns.adjust().draw();\n    }, 100);\n  };\n\n  const RenderizarTR = (cells, title) => {\n    let Sugg = dataSuggestions[title];\n    RenderizarBotones($(cells).filter(\".Botones\"), Sugg);\n  };\n\n  const RenderizarBotones = (domElement, Sugg) => {\n    $(domElement).css({\n      'min-width': '50px',\n      'max-width': '120px'\n    });\n    var StackButtons = /*#__PURE__*/React.createElement(Stack, {\n      grow: false,\n      tokens: {\n        childrenGap: 2\n      },\n      horizontal: true,\n      style: {\n        width: \"100px\"\n      },\n      horizontalAlign: \"space-around\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      iconProps: {\n        iconName: \"Edit\"\n      },\n      title: \"Editar\",\n      ariaLabel: \"Editar\",\n      onClick: () => {\n        createNewSugg(Sugg);\n      },\n      disabled: !props.user.isAdmin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(IconButton, {\n      iconProps: {\n        iconName: \"Delete\"\n      },\n      title: \"Eliminar\",\n      ariaLabel: \"Eliminar\",\n      onClick: () => {// this.EliminarTarea(Tarea);\n      },\n      disabled: !props.user.isAdmin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }\n    }));\n    ReactDOM.render(StackButtons, domElement[0]);\n  };\n\n  const newSuggestion = async admin => {\n    var Formulario;\n\n    async function SubmitForm(suggest) {\n      const util = JSON.stringify(suggest);\n      const respuesta = await fetch(`http://localhost:8080/newSuggestion.php`, {\n        mode: 'cors',\n        method: \"POST\",\n        body: util\n      }); //   push a bbdd\n\n      const succes = await respuesta.json();\n      console.log(succes);\n\n      if (succes) {}\n\n      setTimeout(() => {\n        updateTable(suggest.title);\n      }, 1100); // añadir la sugerencia a tabla e item\n\n      return true;\n    }\n\n    Formulario = /*#__PURE__*/React.createElement(FormSugg, {\n      submit: SubmitForm.bind(this),\n      context: props.context,\n      admin: admin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 13\n      }\n    });\n    let container = document.createElement(\"div\");\n    document.body.appendChild(container);\n    ReactDOM.render(Formulario, container);\n  };\n\n  const updateTable = async title => {\n    let sugg; // console.log(suggest);\n\n    const suggestion = await fetch(`http://localhost:8080/getSuggestion.php?title=${title}`, {\n      mode: \"cors\"\n    });\n    sugg = await suggestion.json();\n    console.log(sugg);\n    let newRow = createNewSugg(sugg);\n    tableSugg.current.rows.add(newRow);\n    tableSugg.current.draw();\n    tableSugg.current.responsive.recalc();\n    tableSugg.current.columns.adjust().draw();\n  };\n\n  const createNewSugg = sugg => {\n    let newSugg = new Suggestion(sugg);\n    console.log(newSugg);\n    dataSuggestions[newSugg.id] = newSugg;\n    return [[newSugg.title, `<span title='${newSugg.title}'>${newSugg.title}<span>`, `<span title='${newSugg.platform}'>${newSugg.platform}<span>`, `<span title='${newSugg.year}'>${newSugg.year}<span>`, \"\"]];\n  };\n\n  const styles = mergeStyleSets({\n    callout: {\n      width: 120,\n      maxWidth: '90%',\n      padding: '20px 24px'\n    }\n  }); // if (loading) return <Stack\n  //     style={{ width: \"100%\", marginTop: \"150px\" }}\n  //     horizontal\n  //     horizontalAlign='center'><CircularProgress color=\"inherit\" size=\"100px\" /></Stack>\n  //     ;\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Stack, {\n    style: {\n      width: \"100%\",\n      display: loading ? \"block\" : \"none\",\n      margin: \"100px 45% 0% 45%\"\n    },\n    horizontal: true,\n    horizontalAlign: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    color: \"inherit\",\n    size: \"100px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Stack, {\n    className: commonStyles.espacioTabs,\n    id: \"SuggStack\",\n    style: {\n      width: \"100%\",\n      marginTop: \"5px\",\n      display: loading ? \"none\" : \"block\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Stack, {\n    styles: {\n      root: {\n        width: \"100%\",\n        marginBottom: \"25px\"\n      }\n    },\n    verticalAlign: 'center',\n    horizontalAlign: 'end',\n    tokens: {\n      childrenGap: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(DefaultButton, {\n    text: \"Nueva sugerencia\",\n    onClick: () => {\n      newSuggestion(false);\n    },\n    allowDisabledFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Stack, {\n    styles: {\n      root: {\n        width: \"30%\"\n      }\n    },\n    horizontalAlign: 'end',\n    wrap: true,\n    verticalAlign: \"end\",\n    horizontal: true,\n    tokens: {\n      childrenGap: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Stack, {\n    grow: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    placeholder: \"B\\xFAsqueda\",\n    height: 10,\n    iconProps: {\n      iconName: 'Search'\n    },\n    style: {\n      width: '100%'\n    },\n    onChange: (event, newValue) => {\n      tableSugg.current.search(newValue).draw();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"divTableSugg\",\n    style: {\n      width: \"100%\",\n      padding: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      width: \"100%\"\n    },\n    className: \"display table table-striped\",\n    id: \"SuggTable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 33\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 33\n    }\n  }, \"Titulo\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 33\n    }\n  }, \"Plataforma\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 33\n    }\n  }, \"A\\xF1o\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 33\n    }\n  }, \"Mas...\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    id: \"SuggTableBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 25\n    }\n  })))), isOpenCallout && /*#__PURE__*/React.createElement(Callout, {\n    className: styles.callout,\n    role: \"dialog\",\n    gapSpace: 0,\n    target: `#${targetTitle}`,\n    onDismiss: () => {\n      setIsOpenCallout(false);\n    },\n    setInitialFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 16\n    }\n  }));\n}\n\n_s(Suggestions, \"nNRfMUSXCzh2rgc8Fx2gAm/Eq4Y=\");\n\n_c = Suggestions;\nexport default Suggestions;\n\nvar _c;\n\n$RefreshReg$(_c, \"Suggestions\");","map":{"version":3,"names":["React","useEffect","useRef","useState","CircularProgress","Callout","DefaultButton","getIconClassName","IconButton","mergeStyleSets","Stack","TextField","$","Suggestion","ReactDOM","commonStyles","FormSugg","Suggestions","props","loading","setLoading","isOpenCallout","setIsOpenCallout","targetTitle","setTargetTitle","data","setData","tableSugg","dataSuggestions","console","log","setTimeout","initSugg","mountTableSugg","suggestions","suggest","fetch","mode","json","error","map","item","suggestion","id","fillTableSugg","suggRow","each","idx","listItem","push","title","platform","year","current","rows","add","draw","responsive","recalc","columns","adjust","geticonoSiguiente","geticonoAnterior","siguiente","anterior","extend","fn","dataTable","defaults","dataTableExt","oSort","a","b","aDay","split","aMonth","aYear","Date","getTime","bDay","bMonth","bYear","DataTable","info","pagingType","deferRender","dom","order","scrollX","details","type","target","buttons","columnDefs","className","orderable","targets","width","visible","createdRow","row","dataIndex","cells","RenderizarTR","language","decimal","emptyTable","infoEmpty","infoFiltered","infoPostFix","thousands","lengthMenu","loadingRecords","processing","search","zeroRecords","paginate","first","last","next","previous","aria","sortAscending","sortDescending","bAutoWidth","on","children","childNodes","attributes","value","Sugg","RenderizarBotones","filter","domElement","css","StackButtons","childrenGap","iconName","createNewSugg","user","isAdmin","render","newSuggestion","admin","Formulario","SubmitForm","util","JSON","stringify","respuesta","method","body","succes","updateTable","bind","context","container","document","createElement","appendChild","sugg","newRow","newSugg","styles","callout","maxWidth","padding","display","margin","espacioTabs","marginTop","root","marginBottom","event","newValue"],"sources":["D:/PFCJACOBO/PFC/mycinemalist/src/components/Suggestions.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { User } from \"../common/User\";\r\nimport { Content } from \"../common/Content\";\r\nimport ContentCard from \"./ContentCard\";\r\nimport { getLeadingCommentRanges } from \"typescript\";\r\nimport { common } from \"@material-ui/core/colors\";\r\nimport NewComment from \"./NewComment\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport { Callout, DefaultButton, getIconClassName, IconButton, mergeStyleSets, Stack, TextField } from \"office-ui-fabric-react\";\r\nimport * as $ from 'jquery';\r\nimport { Suggestion } from \"../common/Suggestion\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport commonStyles from \"../common/common.module.scss\";\r\nimport 'datatables.net';\r\nimport 'datatables.net-responsive';\r\nimport 'datatables.net-buttons';\r\nimport 'datatables.net-select';\r\nimport 'datatables.net-buttons/js/buttons.html5';\r\nimport 'datatables.net-buttons/js/buttons.print';\r\nimport FormSugg from \"./FormSugg\";\r\nimport { Console } from \"console\";\r\n\r\n\r\nfunction Suggestions(props) {\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const [isOpenCallout, setIsOpenCallout] = useState(false);\r\n    const [targetTitle, setTargetTitle] = useState(\"\");\r\n\r\n\r\n    const [data, setData] = useState({})\r\n\r\n    const tableSugg = useRef<any>();\r\n    // const table =null;\r\n    const dataSuggestions: {\r\n        [key: number]: Suggestion;\r\n    } = {};\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        console.log(props);\r\n        setTimeout(() => {\r\n            initSugg();\r\n        }, 100);\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            setLoading(false);\r\n        }, 500);\r\n    }, [loading])\r\n\r\n    const initSugg = async () => {\r\n        mountTableSugg();\r\n        let suggestions;\r\n        try {\r\n            const suggest = await fetch(`http://localhost:8080/getAllSugg.php`, {\r\n                mode: \"cors\",\r\n            });\r\n            suggestions = await suggest.json();\r\n            console.log(suggestions);\r\n        } catch (error) {\r\n            console.log(error);\r\n            // Manage error codes\r\n        }\r\n        var data = {};\r\n        suggestions.map((item) => {\r\n            var suggestion = new Suggestion(item);\r\n            console.log(suggestion);\r\n            dataSuggestions[suggestion.id] = suggestion;\r\n            return true;\r\n        });\r\n        fillTableSugg();\r\n        // setLoading(false);\r\n\r\n    }\r\n\r\n    const fillTableSugg = () => {\r\n        console.log(\"llenar\");\r\n        let suggRow = [];\r\n        $.each(dataSuggestions, function (idx, listItem) {\r\n            console.log(listItem);\r\n            suggRow.push([\r\n                listItem.title,\r\n                `<span  id='${listItem.title}' title='${listItem.title}'>${listItem.title}<span>`,\r\n                `<span title='${listItem.platform}'>${listItem.platform}<span>`,\r\n                `<span title='${listItem.year}'>${listItem.year}<span>`,\r\n                \"\",\r\n            ]);\r\n        });\r\n        console.log(suggRow);\r\n        tableSugg.current.rows.add(suggRow).draw();\r\n        tableSugg.current.draw();\r\n        tableSugg.current.responsive.recalc();\r\n        tableSugg.current.columns.adjust().draw();\r\n    }\r\n\r\n    const geticonoSiguiente = () => {\r\n        return `<i class=\"${getIconClassName(\"ChevronRightSmall\")}\" />`;\r\n    }\r\n    const geticonoAnterior = () => {\r\n        return `<i class=\"${getIconClassName(\"ChevronLeftSmall\")}\" />`;\r\n    }\r\n    const mountTableSugg = () => {\r\n        var siguiente = geticonoSiguiente();\r\n        var anterior = geticonoAnterior();\r\n        // Meter iconos de material ui\r\n        // this.renderIcons();\r\n        $.extend($.fn.dataTable.defaults, {\r\n            responsive: true,\r\n        });\r\n        $.extend($.fn.dataTableExt.oSort, {\r\n            \"date-eu-asc\": function (a, b) {\r\n                if (a === \"\") return 1;\r\n                else if (b === \"\") return -1;\r\n                else {\r\n                    var aDay = a.split(\"/\")[0];\r\n                    var aMonth = a.split(\"/\")[1];\r\n                    var aYear = a.split(\"/\")[2];\r\n                    a = new Date(aMonth + \"/\" + aDay + \"/\" + aYear).getTime();\r\n\r\n                    var bDay = b.split(\"/\")[0];\r\n                    var bMonth = b.split(\"/\")[1];\r\n                    var bYear = b.split(\"/\")[2];\r\n                    b = new Date(bMonth + \"/\" + bDay + \"/\" + bYear).getTime();\r\n\r\n                    return a < b ? -1 : a > b ? 1 : 0;\r\n                }\r\n            },\r\n\r\n            \"date-eu-desc\": function (a, b) {\r\n                if (a === \"\") return 1;\r\n                else if (b === \"\") return -1;\r\n                else {\r\n                    var aDay = a.split(\"/\")[0];\r\n                    var aMonth = a.split(\"/\")[1];\r\n                    var aYear = a.split(\"/\")[2];\r\n                    a = new Date(aMonth + \"/\" + aDay + \"/\" + aYear).getTime();\r\n\r\n                    var bDay = b.split(\"/\")[0];\r\n                    var bMonth = b.split(\"/\")[1];\r\n                    var bYear = b.split(\"/\")[2];\r\n                    b = new Date(bMonth + \"/\" + bDay + \"/\" + bYear).getTime();\r\n\r\n                    return a < b ? 1 : a > b ? -1 : 0;\r\n                }\r\n            },\r\n        });\r\n\r\n        tableSugg.current = $(\"#SuggTable\").DataTable({\r\n            info: true,\r\n            pagingType: \"simple\",\r\n            deferRender: true,\r\n            dom: \"Brtip\",\r\n            order: [[1, \"desc\"]],\r\n            scrollX: false,\r\n            responsive: {\r\n                details: {\r\n                    type: \"column\",\r\n                    target: -1,\r\n                },\r\n            },\r\n\r\n            buttons: [],\r\n            // lengthMenu: [[1, 2, 3, -1], [10, 25, 50, \"All\"]],\r\n            columnDefs: [\r\n                {\r\n                    className: \"control\",\r\n                    orderable: false,\r\n                    targets: -1,\r\n                },\r\n                {\r\n                    targets: [1, 2, 3],\r\n                    width: \"300px\"\r\n                },\r\n                {\r\n                    className: \"Botones\",\r\n                    width: \"1%\",\r\n                    targets: 0\r\n                },\r\n                {\r\n                    targets: 0,\r\n                    visible: false,\r\n                },\r\n            ],\r\n            createdRow: (row, data, dataIndex, cells) => {\r\n                RenderizarTR(cells, data[0]);\r\n            },\r\n            language: {\r\n                decimal: \"\",\r\n                emptyTable: \"Sin datos\",\r\n                info: \"_START_ - _END_ (_TOTAL_ en total)\",\r\n                infoEmpty: \"0 - 0 (0 en total)\",\r\n                infoFiltered: \"(filtrados de _MAX_ registros totales)\",\r\n                infoPostFix: \"\",\r\n                thousands: \",\",\r\n                lengthMenu: \"Mostrar _MENU_\",\r\n                loadingRecords: \"Cargando...\",\r\n                processing: \"Procesando...\",\r\n                search: \"Búsqueda:\",\r\n                zeroRecords: \"Sin resultados\",\r\n                paginate: {\r\n                    first: \"Primero\",\r\n                    last: \"Último\",\r\n                    next: siguiente,\r\n                    previous: anterior,\r\n                },\r\n                aria: {\r\n                    sortAscending: \": activar para ordenar ascendente\",\r\n                    sortDescending: \": activar para ordenar descendente\",\r\n                },\r\n                bAutoWidth: false,\r\n            },\r\n        });\r\n        $(\"#SuggTable\").on(\"click\", \"tr\", async function () {\r\n            let id = $(this).children(0)[0].childNodes[0].attributes.title.value;\r\n            setTargetTitle(id);\r\n\r\n        });\r\n        setTimeout(() => {\r\n            tableSugg.current.responsive.recalc();\r\n            tableSugg.current.columns.adjust().draw();\r\n        }, 100);\r\n    }\r\n\r\n    const RenderizarTR = (cells, title) => {\r\n        let Sugg = dataSuggestions[title];\r\n\r\n        RenderizarBotones($(cells).filter(\".Botones\"), Sugg);\r\n    }\r\n    const RenderizarBotones = (domElement, Sugg: Suggestion) => {\r\n        $(domElement).css({ 'min-width': '50px', 'max-width': '120px' });\r\n        var StackButtons = (\r\n            <Stack\r\n                grow={false}\r\n                tokens={{ childrenGap: 2 }}\r\n                horizontal\r\n                style={{ width: \"100px\" }}\r\n                horizontalAlign={\"space-around\"}\r\n            >\r\n                <IconButton\r\n                    iconProps={{ iconName: \"Edit\" }}\r\n                    title=\"Editar\"\r\n                    ariaLabel=\"Editar\"\r\n                    onClick={() => {\r\n                        createNewSugg(Sugg);\r\n                    }}\r\n                    disabled={!props.user.isAdmin}\r\n                />\r\n                <IconButton\r\n                    iconProps={{ iconName: \"Delete\" }}\r\n                    title=\"Eliminar\"\r\n                    ariaLabel=\"Eliminar\"\r\n                    onClick={() => {\r\n                        // this.EliminarTarea(Tarea);\r\n                    }}\r\n                    disabled={!props.user.isAdmin}\r\n\r\n                />\r\n            </Stack>\r\n        );\r\n        ReactDOM.render(StackButtons, domElement[0]);\r\n    }\r\n\r\n    const newSuggestion = async (admin) => {\r\n        var Formulario;\r\n\r\n        async function SubmitForm(\r\n            suggest: any,\r\n        ) {\r\n            const util = JSON.stringify(suggest);\r\n\r\n            const respuesta = await fetch(`http://localhost:8080/newSuggestion.php`, {\r\n                mode: 'cors',\r\n                method: \"POST\",\r\n                body: util,\r\n            });\r\n            //   push a bbdd\r\n            const succes = await respuesta.json();\r\n            console.log(succes);\r\n            if (succes) {\r\n\r\n            }\r\n            setTimeout(() => {\r\n                updateTable(suggest.title);\r\n            }, 1100);\r\n\r\n            // añadir la sugerencia a tabla e item\r\n\r\n\r\n            return true;\r\n        }\r\n\r\n        Formulario = (\r\n            <FormSugg\r\n                submit={SubmitForm.bind(this)}\r\n                context={props.context}\r\n                admin={admin}\r\n            ></FormSugg>\r\n        );\r\n\r\n        let container = document.createElement(\"div\");\r\n        document.body.appendChild(container);\r\n        ReactDOM.render(Formulario, container);\r\n    }\r\n\r\n    const updateTable = async (title) => {\r\n        let sugg;\r\n        // console.log(suggest);\r\n        const suggestion = await fetch(`http://localhost:8080/getSuggestion.php?title=${title}`, {\r\n            mode: \"cors\",\r\n        });\r\n        sugg = await suggestion.json();\r\n        console.log(sugg);\r\n        let newRow = createNewSugg(sugg);\r\n        tableSugg.current.rows.add(newRow);\r\n        tableSugg.current.draw();\r\n        tableSugg.current.responsive.recalc();\r\n        tableSugg.current.columns.adjust().draw();\r\n    }\r\n\r\n    const createNewSugg = (sugg) => {\r\n        let newSugg = new Suggestion(sugg);\r\n        console.log(newSugg);\r\n        dataSuggestions[newSugg.id] = newSugg;\r\n\r\n        return [\r\n            [\r\n                newSugg.title,\r\n                `<span title='${newSugg.title}'>${newSugg.title}<span>`,\r\n                `<span title='${newSugg.platform}'>${newSugg.platform}<span>`,\r\n                `<span title='${newSugg.year}'>${newSugg.year}<span>`,\r\n                \"\",\r\n            ],\r\n        ];\r\n    }\r\n\r\n    const styles = mergeStyleSets({\r\n               \r\n        callout: {\r\n          width: 120,\r\n          maxWidth: '90%',\r\n          padding: '20px 24px',\r\n        },\r\n       \r\n      });\r\n\r\n    // if (loading) return <Stack\r\n    //     style={{ width: \"100%\", marginTop: \"150px\" }}\r\n    //     horizontal\r\n    //     horizontalAlign='center'><CircularProgress color=\"inherit\" size=\"100px\" /></Stack>\r\n    //     ;\r\n    return (\r\n\r\n        <>\r\n            <Stack\r\n                style={{\r\n                    width: \"100%\",\r\n                    display: loading ? \"block\" : \"none\",\r\n\r\n                    margin: \"100px 45% 0% 45%\"\r\n                }}\r\n                horizontal horizontalAlign='center'>\r\n                <CircularProgress color=\"inherit\" size=\"100px\" />\r\n            </Stack>\r\n            <Stack\r\n                className={commonStyles.espacioTabs}\r\n                id=\"SuggStack\"\r\n                style={{\r\n                    width: \"100%\",\r\n                    marginTop: \"5px\",\r\n                    display: loading ? \"none\" : \"block\",\r\n                }}\r\n            >\r\n                {/* añadir boton nueva sugerencia con  */}\r\n                <Stack styles={{ root: { width: \"100%\", marginBottom: \"25px\" } }} verticalAlign={'center'} horizontalAlign={'end'} tokens={{ childrenGap: 15 }}>\r\n                    <DefaultButton text=\"Nueva sugerencia\" onClick={() => { newSuggestion(false); }} allowDisabledFocus />\r\n\r\n                    <Stack styles={{ root: { width: \"30%\" } }} horizontalAlign={'end'} wrap={true} verticalAlign={\"end\"} horizontal tokens={{ childrenGap: 20 }}>\r\n                        <Stack grow>\r\n\r\n                            <TextField placeholder=\"Búsqueda\" height={10} iconProps={{ iconName: 'Search' }} style={{ width: '100%' }} onChange={(event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>, newValue?: string) => {\r\n                                tableSugg.current.search(newValue).draw();\r\n                            }} />\r\n                        </Stack>\r\n                    </Stack>\r\n                </Stack>\r\n                <div\r\n                    id=\"divTableSugg\"\r\n                    style={{ width: \"100%\", padding: \"0px\" }}\r\n                >\r\n                    <table style={{ width: \"100%\" }} className=\"display table table-striped\" id=\"SuggTable\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>Titulo</th>\r\n                                <th>Plataforma</th>\r\n                                <th>Año</th>\r\n                                <th>Mas...</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody id=\"SuggTableBody\"></tbody>\r\n                    </table>\r\n                </div>\r\n            </Stack>\r\n         \r\n           {isOpenCallout&&\r\n               <Callout\r\n                   className={styles.callout}\r\n                   role=\"dialog\"\r\n                   gapSpace={0}\r\n                   target={`#${targetTitle}`}\r\n                   onDismiss={()=>{\r\n                       setIsOpenCallout(false);\r\n                   }}\r\n                   setInitialFocus\r\n               ></Callout>\r\n            }\r\n        </>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default Suggestions;"],"mappings":"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"},"metadata":{},"sourceType":"module"}